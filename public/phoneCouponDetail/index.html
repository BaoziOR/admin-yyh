<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="x5-fullscreen" content="true">
    <meta name="full-screen" content="yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>预览优惠券详情</title>
    <script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"></script>
    <script src="https://cdn.bootcss.com/axios/0.19.0/axios.min.js"></script>
    <!-- <script src="https://cdn.bootcss.com/sass.js/0.11.0/sass.min.js"></script> -->
    <script src="./rem.js"></script>
</head>

<body>
    <div id="container">
        <div class="title">优惠券详情</div>
        <div class="main">
            <div class="mian_head">
                <div class="head_img">
                    <img src="https://image.52ash.cn/wx_mini/NOOwbFPsDR.jpg" alt="">
                </div>
                <div class="head_txt">
                    <div class="head_title1">
                        {{couponData.title1}}
                        <span>{{couponData.couponType}}</span>
                    </div>
                    <div class="head_title2">
                        {{couponData.title2}}
                    </div>
                    <div class="head_title3">
                        <div class="head_title3_txt">
                            好友领券得XXXU贝 好友用券的XXXU贝
                        </div>
                        <div class="head_title3_button">
                            分享赚U贝
                        </div>
                    </div>
                </div>
            </div>
            <div class="mian_rule">
                <div class="rule_title">
                    领取规则
                </div>
                <div class="rule_main">
                    <div class="rule_time">
                        活动时间：{{couponData.time}}
                    </div>
                    <div class="rule_main_txt">
                        {{couponData.rule}}
                    </div>
                    <div class="rule_main_button">
                    </div>
                </div>
            </div>

            <div class="mian_rule">
                <div class="rule_title">
                    适用门店
                </div>
                <div class="gps_main">
                    <div class="gps_left">
                        XXXXXXXXXXXX<br>
                        XXXXXXXXXXXXXXXXXXXXXXXX<br>
                        XXXXXXXXXXXXXXXXXXXXXXXX
                    </div>
                    <div class="gps_right">
                        1043.0km
                    </div>
                </div>
            </div>

            <div class="mian_rule" style="margin-top:15px;">
                <div class="rule_title">
                    优惠券详情
                </div>
                <div class="gps_main">
                    11111
                </div>
            </div>

        </div>
    </div>
</body>
<script>
    new Vue({
        el: "#container",
        data: function () {
            return {
                jwttoken: null, //用户token
                templateId: '', // 券id
                couponData: {
                    title1: '免费体验儿童街舞课',
                    couponType: '赠品券',
                    title2: 'D2M舞蹈教室免费体验儿童街舞',
                    time: '2019.12.11——2020.01.31',
                    rule: '舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞舞蹈教室免费体验儿童街舞'
                },
            };
        },
        created: function () {
            // this.templateId = this.getUrlKey("templateId",window.location.href)
            this.jwttoken = {
                jwttoken: localStorage.getItem("jwttoken")
            };
            this.templateId = '20191210652055'
            this.getCouponData()
            // console.log(this.templateId);
        },
        methods: {
            // 根据id获取数据
            getCouponData() {
                console.log(123);
                axios.post(
                    'http://192.168.31.114:8088/zex-mgr/merchantCouponTemplate/selectByTemplateId?templateId=20191210652055', {
                    'jwttoken': this.jwttoken
                }).then(res => {

                })
            },
            // 获取url参数
            getUrlKey(name, url) {
                this.templateId = decodeURIComponent((new RegExp('[?|&]' + 'templateId' + '=' + '([^&;]+?)(&|#|;|$)').exec(
                    url) || [, ""])[1]
                    .replace(/\+/g, '%20')) || null

                if (this.templateId) {
                    this.getCouponData()
                }

            }
        }
    });

</script>

</html>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    div {
        font-size: 0.34rem;
    }

    img {
        border: 0;
        vertical-align: middle;
    }

    #container {
        background-color: #f2f2f2;
        /* height: 100%; */

    }

    .title {
        background-color: #fff;
        width: 100%;
        height: 6vh;
        line-height: 6vh;
        text-align: center;
        font-size: 0.4rem;
    }

    .mian_head {
        width: 100%;
    }

    .head_img img {
        width: 100%;
        height: 100%;
    }

    .mian_head .head_txt {
        background-color: #fff;
        padding: 3%;
    }

    /* .mian_head .head_txt div {
        height: 5vh;
    } */
    .head_txt .head_title1 {
        height: 5vh;
        color: #ef913a;
        font-weight: 600;
    }

    .head_txt .head_title1 span {
        color: #000;
    }

    .head_txt .head_title2 {
        height: 5vh;
        font-size: 0.28rem;
        color: #5f5f5f;
    }

    .head_txt .head_title3 {
        overflow: hidden;
        height: 4vh;
    }

    .head_txt .head_title3 div {
        font-size: 0.2rem;
    }

    .head_title3 .head_title3_txt {
        float: left;
        color: #9f9f9f;
        line-height: 4vh;
    }

    .head_title3 .head_title3_button {
        color: #fff;
        padding: 3px;
        background-color: #e59591;
        float: right;
        border-radius: 0 5px 5px 0;
        margin-top: 4px;
    }

    .main .mian_rule {
        margin-top: 5px;
        background-color: #fff;
    }

    .mian_rule .rule_title {
        padding: 3%;
        border-bottom: 1px solid #ccc;
    }

    .mian_rule .rule_main {
        padding: 3%;
        /* width: 100%; */
    }

    .mian_rule .rule_main div {
        font-size: 0.3rem;
    }

    .rule_main .rule_main_txt {
        overflow: hidden;
    }

    .rule_main .rule_main_button {
        width: 0.23rem;
        height: 0.23rem;
        /* background-color: #000; */
        border-left: 1px solid #000;
        border-top: 1px solid #000;
        transform: rotate(45deg);
        margin: 2vh auto;
    }

    .gps_main {
        overflow: hidden;
        margin: 8px 0;
    }

    .gps_main div {
        float: left;
    }

    .gps_main .gps_left {
        width: 65%;
        padding: 2%;
        font-size: 0.2rem;
        border-right: 1px solid #ccc;
    }

    .gps_main .gps_right {
        width: 30%;
        font-size: 0.2rem;
        color: #589cde;
        line-height: 10vh;
        text-align: center;
    }
</style>