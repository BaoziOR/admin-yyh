(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3544"],{"53cd":function(e,t,i){},c540:function(e,t,i){"use strict";var a=i("53cd"),r=i.n(a);r.a},dcd2:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.qrCodePage?i("div",[i("addQrcode",{attrs:{qrcodeStatus:e.qrcodeStatus,qrcodeItem:e.qrcodeItem},on:{changeStatus:e.showStatus}})],1):i("div",[i("Card",[i("i-form",{attrs:{inline:""}},[i("Form-item",{attrs:{label:"二维码类型：","label-width":100}},[i("i-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.qrCode_req.qrcodeType,callback:function(t){e.$set(e.qrCode_req,"qrcodeType",t)},expression:"qrCode_req.qrcodeType"}},[i("i-option",{attrs:{value:"1"}},[e._v("邀请码")]),i("i-option",{attrs:{value:"2"}},[e._v("位置码")])],1)],1),e.drop?i("span",[i("Form-item",{attrs:{label:"服务类型","label-width":100}},[i("i-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.qrCode_req.serviceType,callback:function(t){e.$set(e.qrCode_req,"serviceType",t)},expression:"qrCode_req.serviceType"}},[i("i-option",{attrs:{value:""}},[e._v("全部")]),e._l(e.serviceTypeList,function(t,a){return i("i-option",{key:a,attrs:{value:t.dictValue}},[e._v(e._s(t.dictLabel))])})],2)],1),i("Form-item",{attrs:{label:"小程序appid：","label-width":100}},[i("i-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.qrCode_req.appid,callback:function(t){e.$set(e.qrCode_req,"appid",t)},expression:"qrCode_req.appid"}},[i("i-option",{attrs:{value:""}},[e._v("全部")]),e._l(e.appStoreList,function(t){return i("i-option",{key:t.appid,attrs:{value:t.appid}},[e._v(e._s(t.appName))])})],2)],1),i("Form-item",{attrs:{label:"二维码参数:","label-width":85}},[i("i-input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入..."},model:{value:e.qrCode_req.scene,callback:function(t){e.$set(e.qrCode_req,"scene",t)},expression:"qrCode_req.scene"}})],1),i("Form-item",{attrs:{label:"门店号:","label-width":85}},[i("i-input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入..."},model:{value:e.qrCode_req.shopId,callback:function(t){e.$set(e.qrCode_req,"shopId",t)},expression:"qrCode_req.shopId"}})],1),i("Form-item",{attrs:{label:"邀请人:","label-width":85}},[i("i-input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入..."},model:{value:e.qrCode_req.uid,callback:function(t){e.$set(e.qrCode_req,"uid",t)},expression:"qrCode_req.uid"}})],1)],1):e._e(),i("Form-item",[i("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.queryTableList}},[e._v("搜索")])],1),i("Form-item",[i("Button",{attrs:{icon:"md-refresh"},on:{click:e.reset}},[e._v("重置")])],1),i("Form-item",[i("a",{staticClass:"drop-down",on:{click:e.dropDown}},[e._v("\n            "+e._s(e.dropDownContent)+"\n            "),i("Icon",{attrs:{type:e.dropDownIcon}})],1)]),i("Form-item",{staticStyle:{display:"block","margin-bottom":"0px"}},[i("Button",{staticStyle:{width:"120px"},attrs:{type:"primary",icon:"md-add"},on:{click:e.addWxQrCode}},[e._v("添加二维码")])],1)],1)],1),i("Modal",{attrs:{title:"查看大图",width:"400"},on:{"on-cancel":e.bigImgCancel},model:{value:e.bigImgDialog,callback:function(t){e.bigImgDialog=t},expression:"bigImgDialog"}},[i("img",{staticStyle:{width:"100%"},attrs:{src:e.big_Image_url},on:{"update:src":function(t){e.big_Image_url=t}}})]),i("Card",[i("div",{staticStyle:{"margin-top":"30px"}},[e.warningDisplay?i("Alert",{attrs:{type:"warning","show-icon":""}},[e._v("请选择二维码类型搜索数据")]):e._e(),i("Table",{attrs:{border:"",width:"100%",columns:"1"==e.searchType?e.columns1:"2"==e.searchType?e.columns2:e.columns,data:e.qrCode_list,loading:e.TableLoading},on:{"update:columns":function(t){"1"==e.searchType?e.columns1:"2"==e.searchType?e.columns2:e.columns=t}},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.row;return[i("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(t){e.inputDetails(a)}}},[e._v("查看详情")])]}},{key:"qrcodeType",fn:function(t){var a=t.row;return[1==a.qrcodeType?i("span",[e._v("邀请码")]):2==a.qrcodeType?i("span",[e._v("位置码")]):e._e()]}},{key:"serviceType",fn:function(t){var a=t.row;return[1==a.serviceType?i("span",[e._v("首页")]):2==a.serviceType?i("span",[e._v("跳转领优惠详情页")]):3==a.serviceType?i("span",[e._v("跳转附近领优惠券列表")]):e._e()]}},{key:"qrcodeUrl",fn:function(t){var a=t.row;return[i("div",{staticClass:"img",on:{click:function(t){e.showBigImg(a)}}},[i("img",{attrs:{src:a.qrcodeUrl}})])]}},{key:"width",fn:function(t){var a=t.row;return[i("span",[e._v(e._s(a.width)+"px")])]}},{key:"locationType",fn:function(t){var a=t.row;return[1==a.locationType?i("span",[e._v("店内")]):2==a.locationType?i("span",[e._v("公众号")]):3==a.locationType?i("span",[e._v("商品")]):e._e()]}}])})],1),i("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[i("Page",{attrs:{total:e.totalSize,"show-total":"","show-elevator":"",current:e.current},on:{"update:current":function(t){e.current=t},"on-change":e.changeCurrent}})],1)],1)],1),i("Modal",{attrs:{title:"查看详情","mask-closable":!1,"footer-hide":"",width:"700"},model:{value:e.qrCodeDsplay,callback:function(t){e.qrCodeDsplay=t},expression:"qrCodeDsplay"}},[i("div",{staticClass:"box1"},[i("div",{staticClass:"check"},[i("div",[i("span",[e._v("小程序appid:")]),i("span",[e._v(e._s(e.qrCodeDetailsData.appid))])]),i("div",[i("span",[e._v("id:")]),i("span",[e._v(e._s(e.qrCodeDetailsData.id))])]),i("div",[i("span",[e._v("二维码类型:")]),1==e.qrCodeDetailsData.qrcodeType?i("span",[e._v("邀请码")]):2==e.qrCodeDetailsData.qrcodeType?i("span",[e._v("位置码")]):e._e()]),i("div",[i("span",[e._v("服务类型:")]),1==e.qrCodeDetailsData.serviceType?i("span",[e._v("首页")]):2==e.qrCodeDetailsData.serviceType?i("span",[e._v("跳转领优惠详情页")]):3==e.qrCodeDetailsData.serviceType?i("span",[e._v("跳转附近领优惠券列表")]):e._e()]),i("div",[i("span",[e._v("二维码参数:")]),i("span",[e._v(e._s(e.qrCodeDetailsData.scene))])]),2==e.qrCodeDetailsData.qrcodeType?i("div",[i("span",[e._v("门店号:")]),i("span",[e._v(e._s(e.qrCodeDetailsData.shopId))])]):e._e(),i("div",[i("span",[e._v("页面路径:")]),i("span",[e._v(e._s(e.qrCodeDetailsData.page))])]),i("div",{staticStyle:{display:"block"}},[i("span",{staticStyle:{float:"left"}},[e._v("二维码图片:")]),i("div",{staticClass:"img"},[i("img",{attrs:{src:e.qrCodeDetailsData.qrcodeUrl,alt:""}})])]),i("div",[i("span",[e._v("二维码宽度:")]),i("span",[e._v(e._s(e.qrCodeDetailsData.width))])]),i("div",[i("span",[e._v("二维码备注:")]),i("span",[e._v(e._s(e.qrCodeDetailsData.remark))])]),i("div",[i("span",[e._v("创建人:")]),i("span",[e._v(e._s(e.qrCodeDetailsData.createBy))])]),i("div",[i("span",[e._v("创建时间:")]),i("span",[e._v(e._s(e.qrCodeDetailsData.createTime))])])]),i("div",{staticClass:"qrcodeServiceParams"},[i("span",[e._v("业务参数:")]),i("div",e._l(e.qrCodeDetailsData.qrcodeServiceParams,function(t,a){return i("div",{key:a},[i("div",[e._v("参数"+e._s(a+1)+"名："+e._s(t.param))]),i("div",[e._v("参数"+e._s(a+1)+"值："+e._s(t.value))])])}))])])])],1)},r=[],o=i("6797"),n=i("eda8"),s={name:"qrCode-management",components:{addQrcode:n["default"]},data:function(){var e=this;return{drop:!1,dropDownContent:"展开",dropDownIcon:"ios-arrow-down",qrCodeDsplay:!1,TableLoading:!1,columns:[],columns1:[{title:"操作",key:"operation",minWidth:150,fixed:"left",slot:"action",align:"center"},{title:"小程序appid",key:"appid",minWidth:100,align:"center",render:function(t,i){for(var a=i.row.appid,r=0;r<e.appStoreList.length;r++)e.appStoreList[r].appid==i.row.appid&&(a=e.appStoreList[r].appName);return t("div",a)}},{title:"二维码类型",key:"qrcodeType",minWidth:100,align:"center",slot:"qrcodeType"},{title:"服务类型",key:"serviceType",minWidth:100,align:"center",slot:"serviceType"},{title:"二维码参数",key:"scene",minWidth:100,align:"center"},{title:"邀请人",key:"uid",minWidth:100,align:"center"},{title:"二维码图片",align:"center",key:"qrcodeUrl",width:110,slot:"qrcodeUrl"},{title:"备注",key:"remark",minWidth:130,align:"center"},{title:"创建人",key:"createBy",minWidth:80,align:"center"},{title:"创建时间",key:"createTime",minWidth:130,align:"center"}],columns2:[{title:"操作",key:"operation",minWidth:150,fixed:"left",slot:"action",align:"center"},{title:"小程序appid",key:"appid",minWidth:100,align:"center",render:function(t,i){for(var a=i.row.appid,r=0;r<e.appStoreList.length;r++)e.appStoreList[r].appid==i.row.appid&&(a=e.appStoreList[r].appName);return t("div",a)}},{title:"二维码类型",key:"qrcodeType",minWidth:100,align:"center",slot:"qrcodeType"},{title:"服务类型",key:"serviceType",minWidth:100,align:"center",slot:"serviceType"},{title:"二维码参数",key:"scene",minWidth:100,align:"center"},{title:"位置类型",key:"locationType",minWidth:100,align:"center",slot:"locationType"},{title:"位置描述",key:"location",minWidth:100,align:"center"},{title:"门店号",key:"shopId",minWidth:100,align:"center"},{title:"二维码图片",align:"center",key:"qrcodeUrl",width:110,slot:"qrcodeUrl"},{title:"备注",key:"remark",minWidth:130,align:"center"},{title:"创建人",key:"createBy",minWidth:80,align:"center"},{title:"创建时间",key:"createTime",minWidth:130,align:"center"}],qrCode_req:{appid:"",scene:"",serviceType:"",qrcodeType:"",shopId:"",uid:""},qrCode_list:[],qrCodeDetailsData:{},searchType:"",current:1,totalSize:0,appStoreList:[],serviceTypeList:[],qrcodeTypeList:[],bigImgDialog:!1,big_Image_url:"",qrcode_info:{},qrcodeStatus:1,qrCodePage:!1,qrcodeItem:{},warningDisplay:!0}},created:function(){this.getWebankAppStore(),this.getServiceParams()},methods:{showStatus:function(e){this.qrCodePage=e.display,null!=e.qrcodeType&&(this.qrCode_req.qrcodeType=e.qrcodeType.toString(),this.queryTableList())},getWebankAppStore:function(){var e=this;Object(o["ub"])().then(function(t){200==t.code?e.appStoreList=t.data:e.msgErr("小程序appId获取失败")})},getServiceParams:function(e){var t=this;Object(o["Eb"])().then(function(e){200==e.code?t.serviceTypeList=e.data:t.msgErr(e.msg)})},queryTableList:function(){this.qrCode_req.qrcodeType?("1"==this.qrCode_req.qrcodeType?this.searchType="1":"2"==this.qrCode_req.qrcodeType&&(this.searchType="2"),this.warningDisplay=!1,this.getWebankQrCodePage(this.qrCode_req,1)):this.msgErr("请选择二维码类型")},getWebankQrCodePage:function(e,t){var i=this;this.TableLoading=!0,Object(o["Nb"])(e,t).then(function(e){200==e.code?(i.qrCode_list=e.data.records,i.current=e.data.current,i.totalSize=e.data.total,i.TableLoading=!1):i.msgErr(e.msg)})},inputDetails:function(e){var t=this;this.qrCodeDetailsData=e,Object(o["Db"])(e.id).then(function(e){200==e.code&&(t.qrCodeDetailsData.qrcodeServiceParams=e.data,t.qrCodeDsplay=!0)})},addWxQrCode:function(){this.qrCodePage=!0},viewDetail:function(e){this.qrCodePage=!0,this.qrCodeItem=this.qrCode_list[e],this.qrcodeStatus=2},showBigImg:function(e){this.bigImgDialog=!0,this.big_Image_url=e.qrcodeUrl},bigImgCancel:function(){this.bigImgDialog=!1},changeCurrent:function(e){this.current=e,this.getWebankQrCodePage(this.qrCode_req,e)},changeVender:function(e){this.qrCode_req.appid=e.value},reset:function(){this.qrCode_req.appid="",this.qrCode_req.scene="",this.qrCode_req.serviceType="",this.qrCode_req.qrcodeType="",this.qrCode_req.shopId="",this.qrCode_req.uid=""},msgOk:function(e){this.$Message.info({content:e,duration:3})},msgErr:function(e){this.$Message.error({content:e,duration:3})},dropDown:function(){this.drop?(this.dropDownContent="展开",this.dropDownIcon="ios-arrow-down"):(this.dropDownContent="收起",this.dropDownIcon="ios-arrow-up"),this.drop=!this.drop}}},d=s,c=(i("c540"),i("2877")),l=Object(c["a"])(d,a,r,!1,null,"770812d8",null);l.options.__file="qrCodeManagement.vue";t["default"]=l.exports}}]);