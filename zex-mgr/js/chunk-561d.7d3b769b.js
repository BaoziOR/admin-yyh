(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-561d"],{"0a4a":function(s,t,e){"use strict";var a=e("ca90"),r=e.n(a);r.a},ca90:function(s,t,e){},fdd1:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("Card",{staticClass:"change-pass"},[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"key"}}),s._v("\n      修改密码\n    ")],1),e("div",[e("Form",{ref:"editPasswordForm",staticStyle:{width:"450px"},attrs:{model:s.editPasswordForm,"label-width":100,"label-position":"right",rules:s.passwordValidate}},[e("FormItem",{attrs:{label:"原密码",prop:"oldPass"}},[e("Input",{attrs:{type:"password",placeholder:"请输入现在使用的密码",disabled:""},model:{value:s.editPasswordForm.oldPass,callback:function(t){s.$set(s.editPasswordForm,"oldPass",t)},expression:"editPasswordForm.oldPass"}})],1),e("FormItem",{attrs:{label:"新密码",prop:"newPass"}},[e("Poptip",{attrs:{trigger:"focus",placement:"right",width:"250"}},[e("Input",{attrs:{type:"password",placeholder:"请输入新密码，长度为6-20个字符",disabled:""},on:{"on-change":s.strengthChange},model:{value:s.editPasswordForm.newPass,callback:function(t){s.$set(s.editPasswordForm,"newPass",t)},expression:"editPasswordForm.newPass"}}),e("div",{class:s.tipStyle,attrs:{slot:"content"},slot:"content"},[e("span",{staticClass:"words"},[s._v("强度 : "+s._s(s.strength))]),e("Slider",{staticStyle:{width:"95%"},attrs:{step:33},model:{value:s.strengthValue,callback:function(t){s.strengthValue=t},expression:"strengthValue"}}),s._v("\n              请至少输入 6 个字符。请不要使"),e("br"),s._v("用容易被猜到的密码。\n            ")],1)],1)],1),e("FormItem",{attrs:{label:"确认新密码",prop:"rePass"}},[e("Input",{attrs:{type:"password",placeholder:"请再次输入新密码",disabled:""},model:{value:s.editPasswordForm.rePass,callback:function(t){s.$set(s.editPasswordForm,"rePass",t)},expression:"editPasswordForm.rePass"}})],1),e("FormItem",[e("Button",{staticStyle:{width:"100px","margin-right":"5px"},attrs:{type:"primary",loading:s.savePassLoading,disabled:""},on:{click:s.saveEditPass}},[s._v("功能未开发")]),e("Button",{on:{click:s.cancelEditPass}},[s._v("取消")])],1)],1)],1)])],1)},r=[],i=e("365c"),n={name:"change_pass",data:function(){var s=this,t=function(t,e,a){e!==s.editPasswordForm.newPass?a(new Error("两次输入密码不一致")):a()};return{savePassLoading:!1,tipStyle:"password-tip-none",strength:"无",strengthValue:0,editPasswordForm:{oldPass:"",newPass:"",rePass:""},passwordValidate:{oldPass:[{required:!0,message:"请输入原密码",trigger:"blur"}],newPass:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"请至少输入6个字符",trigger:"blur"},{max:32,message:"最多输入32个字符",trigger:"blur"}],rePass:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{validator:t,trigger:"blur"}]}}},methods:{init:function(){},checkStrengthValue:function(s){var t=0;return/\d/.test(s)&&t++,/[a-z]/.test(s)&&t++,/[A-Z]/.test(s)&&t++,/\W/.test(s)&&t++,s.length>=10&&t++,t},strengthChange:function(){if(!this.editPasswordForm.newPass)return this.tipStyle="password-tip-none",this.strength="无",void(this.strengthValue=0);var s=this.checkStrengthValue(this.editPasswordForm.newPass);s<=1?(this.tipStyle="password-tip-weak",this.strength="弱",this.strengthValue=33):s>=2&&s<=4?(this.tipStyle="password-tip-middle",this.strength="中",this.strengthValue=66):(this.tipStyle="password-tip-strong",this.strength="强",this.strengthValue=100)},saveEditPass:function(){var s=this,t={password:this.editPasswordForm.oldPass,newPass:this.editPasswordForm.newPass,passStrength:this.strength};this.$refs["editPasswordForm"].validate(function(e){e&&(s.savePassLoading=!0,Object(i["b"])(t).then(function(t){s.savePassLoading=!1,!0===t.success&&s.$Modal.success({title:"修改密码成功",content:"修改密码成功，需重新登录",onOk:function(){s.$store.commit("logout",s),s.$store.commit("clearOpenedSubmenu"),s.$router.push({name:"login"})}})}))})},cancelEditPass:function(){this.$store.commit("removeTag","change_pass"),localStorage.pageOpenedList=JSON.stringify(this.$store.state.app.pageOpenedList);var s="",t=this.$store.state.app.pageOpenedList.length;s=t>1?this.$store.state.app.pageOpenedList[t-1].name:this.$store.state.app.pageOpenedList[0].name,this.$router.push({name:s})}},mounted:function(){}},o=n,d=(e("0a4a"),e("2877")),l=Object(d["a"])(o,a,r,!1,null,null,null);l.options.__file="change-pass.vue";t["default"]=l.exports}}]);