(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5643"],{"0775":function(t,e,a){"use strict";var l=a("bda1"),o=a.n(l);o.a},ac0e:function(t,e,a){"use strict";a.r(e);var l,o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("奖励配置")]),a("div",[a("Table",{attrs:{border:"",width:"100%",columns:t.columns1,data:t.list1,loading:t.TableLoading1},scopedSlots:t._u([{key:"action",fn:function(e){var l=e.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(e){t.openModal1(l)}}},[t._v("修改")])]}},{key:"value",fn:function(e){var l=e.row;return[l.type&&"3"==l.type?a("div",[a("img",{staticClass:"table-img",attrs:{src:l.value,alt:""}})]):a("div",["7"==l.code?a("div",[t._v("\n                        "+t._s(l.value)+"个\n                    ")]):"8"==l.code||"16"==l.code||"18"==l.code||"19"==l.code||"21"==l.code?a("div",[t._v("\n                        "+t._s(l.value)+"元\n                    ")]):"9"==l.code?a("div",[t._v("\n                        "+t._s(l.value)+"U贝=1元\n                    ")]):"10"==l.code?a("div",[t._v("\n                        "+t._s(l.value)+"次\n                    ")]):"11"==l.code||"12"==l.code||"13"==l.code||"14"==l.code?a("div",[a("p",[t._v("第一名"+t._s(l.value.split(",")[0])+"U贝")]),a("p",[t._v("第二名"+t._s(l.value.split(",")[1])+"U贝")]),a("p",[t._v("第三名"+t._s(l.value.split(",")[2])+"U贝")])]):"15"==l.code?a("div",[t._v("\n                        "+t._s(l.value)+"天\n                    ")]):"20"==l.code?a("div",[t._v("\n                        "+t._s(l.value)+"%\n                    ")]):a("div",[t._v("\n                        "+t._s(l.value)+"U贝\n                    ")])])]}}])})],1),a("h3",[t._v("奖励配置")]),a("div",[a("Table",{attrs:{border:"",width:"100%","show-header":!1,columns:t.columns2,data:t.list2,loading:t.TableLoading2},scopedSlots:t._u([{key:"action",fn:function(e){var l=e.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(e){t.openModal2(l)}}},[t._v("修改")])]}},{key:"verifyQuantityMin",fn:function(e){var l=e.row;return[a("span",[t._v(t._s("核销好友数"+l.verifyQuantityMin+"名"))])]}}])})],1),a("h3",[t._v("说明配置")]),a("div",[a("Table",{attrs:{border:"",width:"100%","show-header":!1,columns:t.columns3,data:t.list3,loading:t.TableLoading3},scopedSlots:t._u([{key:"action",fn:function(e){var l=e.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(e){t.openModal3(l)}}},[t._v("修改")])]}},{key:"context",fn:function(e){var l=e.row;return[a("div",{staticClass:"over-hidden",attrs:{title:l.context}},[t._v(t._s(l.context))])]}}])})],1),a("Modal",{attrs:{title:t.modal1.name,"mask-closable":!1,"footer-hide":""},model:{value:t.modal1.isopen,callback:function(e){t.$set(t.modal1,"isopen",e)},expression:"modal1.isopen"}},[t.modal1.type&&"3"==t.modal1.type?a("Row",[a("img",{staticStyle:{width:"500px","text-align":"center"},attrs:{src:t.modal1.value}}),a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"90px"},attrs:{defaultList:t.defaultList,type:"drag",format:["jpg","jpeg","png","bmp"],"on-success":t.handleSuccess,action:t.url,accept:"image","max-size":1024,"on-exceeded-size":t.handleMaxSize,"on-format-error":t.formatError,headers:t.userToken,"show-upload-list":!1}},[a("div",{staticStyle:{width:"90px",height:"90px","line-height":"90px"}},[a("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])],1):a("Form",{ref:"modalErf1",attrs:{model:t.modal1,"label-position":"right",rules:t.ruleValidate1,"label-width":80}},[a("Row"),"7"==t.modal1.code?a("Row",[a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{label:"数量"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,step:1,type:"text",placeholder:"请输入"},model:{value:t.modal1.value,callback:function(e){t.$set(t.modal1,"value",e)},expression:"modal1.value"}})],1)],1),a("Col",{attrs:{span:"4",offset:"1"}},[a("span",{staticClass:"ivu-form-item-label"},[t._v("个")])])],1):"8"==t.modal1.code||"15"==t.modal1.code||"16"==t.modal1.code||"18"==t.modal1.code||"19"==t.modal1.code||"21"==t.modal1.code?a("Row",[a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{label:"金额"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,step:1,type:"text",placeholder:"请输入"},model:{value:t.modal1.value,callback:function(e){t.$set(t.modal1,"value",e)},expression:"modal1.value"}})],1)],1),a("Col",{attrs:{span:"4",offset:"1"}},[a("span",{staticClass:"ivu-form-item-label"},[t._v("元")])])],1):"9"==t.modal1.code?a("Row",[a("Col",{attrs:{span:"18"}},[a("FormItem",[a("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,step:1,type:"text",placeholder:"请输入"},model:{value:t.modal1.value,callback:function(e){t.$set(t.modal1,"value",e)},expression:"modal1.value"}})],1)],1),a("Col",{attrs:{span:"4",offset:"1"}},[a("span",{staticClass:"ivu-form-item-label"},[t._v("U贝=1元")])])],1):"10"==t.modal1.code?a("Row",[a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{label:"次数"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,step:1,type:"text",placeholder:"请输入"},model:{value:t.modal1.value,callback:function(e){t.$set(t.modal1,"value",e)},expression:"modal1.value"}})],1)],1),a("Col",{attrs:{span:"4",offset:"1"}},[a("span",{staticClass:"ivu-form-item-label"},[t._v("次")])])],1):"11"==t.modal1.code||"12"==t.modal1.code||"13"==t.modal1.code||"14"==t.modal1.code?a("Row",[a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{label:"第一名"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,step:1,type:"text",placeholder:"请输入"},model:{value:t.modal1.value1,callback:function(e){t.$set(t.modal1,"value1",e)},expression:"modal1.value1"}})],1)],1),a("Col",{attrs:{span:"4",offset:"1"}},[a("span",{staticClass:"ivu-form-item-label"},[t._v("U贝")])]),a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{label:"第二名"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,step:1,type:"text",placeholder:"请输入"},model:{value:t.modal1.value2,callback:function(e){t.$set(t.modal1,"value2",e)},expression:"modal1.value2"}})],1)],1),a("Col",{attrs:{span:"4",offset:"1"}},[a("span",{staticClass:"ivu-form-item-label"},[t._v("U贝")])]),a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{label:"第三名"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,step:1,type:"text",placeholder:"请输入"},model:{value:t.modal1.value3,callback:function(e){t.$set(t.modal1,"value3",e)},expression:"modal1.value3"}})],1)],1),a("Col",{attrs:{span:"4",offset:"1"}},[a("span",{staticClass:"ivu-form-item-label"},[t._v("U贝")])])],1):"15"==t.modal1.code?a("Row",[a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{label:"有效期"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,step:1,type:"text",placeholder:"请输入"},model:{value:t.modal1.value,callback:function(e){t.$set(t.modal1,"value",e)},expression:"modal1.value"}})],1)],1),a("Col",{attrs:{span:"4",offset:"1"}},[a("span",{staticClass:"ivu-form-item-label"},[t._v("天")])])],1):"20"==t.modal1.code?a("Row",[a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{label:"提现个税"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,max:100,step:.1,type:"text",placeholder:"请输入"},model:{value:t.modal1.value,callback:function(e){t.$set(t.modal1,"value",e)},expression:"modal1.value"}})],1)],1),a("Col",{attrs:{span:"4",offset:"1"}},[a("span",{staticClass:"ivu-form-item-label"},[t._v("%")])])],1):a("Row",[a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{label:"U贝"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,step:1,type:"text",placeholder:"请输入"},model:{value:t.modal1.value,callback:function(e){t.$set(t.modal1,"value",e)},expression:"modal1.value"}})],1)],1),a("Col",{attrs:{span:"4",offset:"1"}},[a("span",{staticClass:"ivu-form-item-label"},[t._v("个")])])],1)],1),a("row",[a("Button",{staticStyle:{float:"right","margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){t.ok1("modalErf1")}}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px",float:"right"},on:{click:function(e){t.modal1.isopen=!1}}},[t._v("关闭")])],1)],1),a("Modal",{attrs:{title:t.modal2.levelName,"mask-closable":!1,"footer-hide":""},model:{value:t.modal2.isopen,callback:function(e){t.$set(t.modal2,"isopen",e)},expression:"modal2.isopen"}},[a("Form",{ref:"modalErf2",attrs:{model:t.modal2,"label-position":"right",rules:t.ruleValidate2,"label-width":120}},[a("Row",[a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{label:"核销好友数"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,step:1,type:"text",placeholder:"请输入"},model:{value:t.modal2.verifyQuantityMin,callback:function(e){t.$set(t.modal2,"verifyQuantityMin",e)},expression:"modal2.verifyQuantityMin"}})],1)],1)],1),a("FormItem",[a("Button",{staticStyle:{float:"right","margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){t.ok2("modalErf2")}}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px",float:"right"},on:{click:function(e){t.modal2.isopen=!1}}},[t._v("关闭")])],1)],1)],1),a("Modal",{attrs:{title:t.modal3.name,"mask-closable":!1,"footer-hide":""},model:{value:t.modal3.isopen,callback:function(e){t.$set(t.modal3,"isopen",e)},expression:"modal3.isopen"}},[a("Form",{ref:"modalErf3",attrs:{model:t.modal3,"label-position":"right",rules:t.ruleValidate3}},[a("Row",[a("Form-item",{attrs:{prop:"context"}},[a("i-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入..."},model:{value:t.modal3.context,callback:function(e){t.$set(t.modal3,"context",e)},expression:"modal3.context"}})],1)],1),a("FormItem",[a("Button",{staticStyle:{float:"right","margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){t.ok3("modalErf3")}}},[t._v("确认")]),a("Button",{staticStyle:{"margin-left":"8px",float:"right"},on:{click:function(e){t.modal3.isopen=!1}}},[t._v("关闭")])],1)],1)],1)],1)},i=[],s=a("a322"),n=a("7f80"),r=a("365c"),d={name:"reward_deploy",data:function(){return{userToken:{},url:r["g"],ruleValidate1:{value:[{required:!0,message:"请输入数量",trigger:"blur"}],value1:[{required:!0,message:"请输入数量",trigger:"blur"}],value2:[{required:!0,message:"请输入数量",trigger:"blur"}],value3:[{required:!0,message:"请输入数量",trigger:"blur"}]},ruleValidate2:{verifyQuantityMin:[{required:!0,message:"请输入数量",trigger:"blur"}]},ruleValidate3:{context:[{required:!0,message:"请输入",trigger:"blur"}]},loading:!0,defaultList:[],TableLoading1:!1,TableLoading2:!1,TableLoading3:!1,visible:!1,imgName:"",modal1:{name:"",id:"",code:"",type:"",isopen:!1,value:0,value1:0,value2:0,value3:0},modal2:{levelName:"",isopen:!1,level:"",verifyQuantityMin:0},modal3:{name:"",isopen:!1,context:""},columns1:[{title:"操作",align:"center",width:100,fixed:"left",slot:"action"},{title:"序号",type:"index",align:"center",minWidth:100},{title:"配置项",align:"center",minWidth:160,key:"name"},{title:"配置值",align:"center",minWidth:160,slot:"value"},{title:"修改人",align:"center",minWidth:160,key:"updateBy"},{title:"修改时间",align:"center",minWidth:160,key:"updateTime"}],columns2:[{title:"操作",align:"center",width:100,fixed:"left",slot:"action"},{title:"序号",type:"index",align:"center",minWidth:100},{title:"配置项",align:"center",minWidth:160,key:"levelName"},{title:"配置值",align:"center",minWidth:160,slot:"verifyQuantityMin"},{title:"修改人",align:"center",minWidth:160,key:"createBy"},{title:"修改时间",align:"center",minWidth:160,key:"gmtCreate"}],columns3:[{title:"操作",align:"center",width:100,fixed:"left",slot:"action"},{title:"序号",type:"index",align:"center",minWidth:100},{title:"配置项",align:"center",minWidth:160,key:"name"},{title:"配置值",align:"center",minWidth:160,slot:"context"},{title:"修改人",align:"center",minWidth:160,key:"updateBy"},{title:"修改时间",align:"center",minWidth:160,key:"updateTime"}],list1:[],list2:[],list3:[],list4:[]}},methods:(l={handleView:function(t){this.imgName=t,this.visible=!0},handleSuccess:function(t,e){this.model1.value=e.url,e.url="https://o5wwk8baw.qnssl.com/7eb99afb9d5f317c912f08b5212fd69a/avatar",e.name="7eb99afb9d5f317c912f08b5212fd69a"}},Object(s["a"])(l,"handleSuccess",function(t,e){200==t.code?(this.modal1.value=t.image_url,this.msgOk("上传图片成功")):this.msgErr("上传图片失败，请重新上传")}),Object(s["a"])(l,"formatError",function(){this.msgErr("只能上传jpg,jpeg,png,bmp格式,请重新上传")}),Object(s["a"])(l,"handleMaxSize",function(t){this.$Notice.warning({title:"超出文件大小限制",desc:"文件 "+t.name+" 太大，不能超过 2M。"})}),Object(s["a"])(l,"handleBeforeUpload",function(){}),Object(s["a"])(l,"openModal1",function(t){this.defaultList=[],this.modal1.name=t.name,this.modal1.code=t.code,this.modal1.id=t.id,this.modal1.type=t.type,this.modal1.isopen=!0,"3"!=t.type?(this.modal1.value=Number(t.value)||0,"11"!=t.code&&"12"!=t.code&&"13"!=t.code&&"14"!=t.code||(this.modal1.value1=Number(t.value.split(",")[0])||0,this.modal1.value2=Number(t.value.split(",")[1])||0,this.modal1.value3=Number(t.value.split(",")[2])||0,this.modal1.value=0)):this.modal1.value=t.value}),Object(s["a"])(l,"openModal2",function(t){this.modal2.levelName=t.levelName,this.modal2.isopen=!0,this.modal2.level=t.level,this.modal2.verifyQuantityMin=Number(t.verifyQuantityMin)||0}),Object(s["a"])(l,"openModal3",function(t){this.modal3.name=t.name,this.modal3.code=t.code,this.modal3.isopen=!0,this.modal3.context=t.context}),Object(s["a"])(l,"ok1",function(t){this.modal1.type&&"3"==this.modal1.type?this.modal1.value&&(this.modal1.value?this.saveChange1():this.$Message.error("请上传图片")):this.modal1.value?this.saveChange1():this.$Message.error("请检查表单")}),Object(s["a"])(l,"cancel",function(){}),Object(s["a"])(l,"ok2",function(t){this.modal2.verifyQuantityMin||0===this.modal2.verifyQuantityMin?this.saveChange2():this.$Message.error("请检查表单")}),Object(s["a"])(l,"ok3",function(t){this.modal3.context?this.saveChange3():this.$Message.error("请检查表单")}),Object(s["a"])(l,"getData1",function(){var t=this;this.TableLoading1=!0,Object(n["c"])("/commonConfig/queryAllConfig").then(function(e){200==e.code?(t.TableLoading1=!1,e.data&&(t.list1=e.data.noOverallCommonConfigList||[])):(t.$Message.error(e.msg),t.TableLoading1=!1)})}),Object(s["a"])(l,"getData2",function(){var t=this;this.TableLoading2=!0,Object(n["f"])("/mini/userLevelRule/list",{}).then(function(e){200==e.code?(t.list2=e.data||[],t.TableLoading2=!1):(t.$Message.error(e.msg),t.TableLoading2=!1)})}),Object(s["a"])(l,"getData3",function(){var t=this;this.TableLoading3=!0,Object(n["c"])("/rewardNotice/queryNoticeAll").then(function(e){200==e.code?(t.list3=e.data||[],t.TableLoading3=!1):(t.$Message.error(e.msg),t.TableLoading3=!1)})}),Object(s["a"])(l,"saveChange1",function(){var t=this,e=this;"11"!=this.modal1.code&&"12"!=this.modal1.code&&"13"!=this.modal1.code&&"14"!=this.modal1.code||(this.modal1.value=this.modal1.value1+","+this.modal1.value2+","+this.modal1.value3),Object(n["f"])("/commonConfig/updateConfigById",{overallCommonConfig:{id:this.modal1.id,code:this.modal1.code,value:this.modal1.value}}).then(function(a){200==a.code?(t.getData1(),setTimeout(function(){e.modal1.isopen=!1},500)):t.$Message.error(a.msg)})}),Object(s["a"])(l,"saveChange2",function(){var t=this,e=this;Object(n["f"])("/mini/userLevelRule/add",{verifyQuantityMin:this.modal2.verifyQuantityMin,level:this.modal2.level}).then(function(a){200==a.code?(t.getData2(),setTimeout(function(){e.modal2.isopen=!1},500)):t.$Message.error(a.msg)})}),Object(s["a"])(l,"saveChange3",function(){var t=this,e=this;Object(n["f"])("/rewardNotice/updateNotice",{code:this.modal3.code,context:this.modal3.context}).then(function(a){200==a.code?(t.getData3(),setTimeout(function(){e.modal3.isopen=!1},500)):t.$Message.error(a.msg)})}),Object(s["a"])(l,"msgOk",function(t){this.$Message.info({content:t,duration:3})}),Object(s["a"])(l,"msgErr",function(t){this.$Message.error({content:t,duration:3})}),l),created:function(){this.getData1(),this.getData2(),this.getData3(),this.userToken={jwttoken:localStorage.getItem("jwttoken")}}},c=d,m=(a("0775"),a("2877")),u=Object(m["a"])(c,o,i,!1,null,"320b1923",null);u.options.__file="reward_deploy.vue";e["default"]=u.exports},bda1:function(t,e,a){}}]);