(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f4b6"],{"01563":function(t,n,e){"use strict";var i=e("898f"),a=e.n(i);a.a},6797:function(t,n,e){"use strict";e.d(n,"Kb",function(){return a}),e.d(n,"Jb",function(){return r}),e.d(n,"r",function(){return c}),e.d(n,"D",function(){return o}),e.d(n,"Rb",function(){return u}),e.d(n,"Lb",function(){return s}),e.d(n,"S",function(){return d}),e.d(n,"Fb",function(){return l}),e.d(n,"n",function(){return f}),e.d(n,"O",function(){return p}),e.d(n,"z",function(){return m}),e.d(n,"Ob",function(){return h}),e.d(n,"ub",function(){return b}),e.d(n,"vb",function(){return g}),e.d(n,"g",function(){return y}),e.d(n,"J",function(){return S}),e.d(n,"w",function(){return O}),e.d(n,"I",function(){return j}),e.d(n,"mb",function(){return C}),e.d(n,"h",function(){return w}),e.d(n,"Ib",function(){return v}),e.d(n,"q",function(){return D}),e.d(n,"C",function(){return k}),e.d(n,"Wb",function(){return I}),e.d(n,"Qb",function(){return N}),e.d(n,"R",function(){return B}),e.d(n,"ob",function(){return x}),e.d(n,"c",function(){return L}),e.d(n,"yb",function(){return _}),e.d(n,"xb",function(){return R}),e.d(n,"Ab",function(){return J}),e.d(n,"l",function(){return V}),e.d(n,"M",function(){return z}),e.d(n,"y",function(){return E}),e.d(n,"s",function(){return F}),e.d(n,"U",function(){return T}),e.d(n,"nb",function(){return A}),e.d(n,"Nb",function(){return q}),e.d(n,"j",function(){return M}),e.d(n,"Eb",function(){return Q}),e.d(n,"Db",function(){return $}),e.d(n,"Hb",function(){return G}),e.d(n,"tb",function(){return W}),e.d(n,"p",function(){return P}),e.d(n,"B",function(){return K}),e.d(n,"ib",function(){return H}),e.d(n,"a",function(){return U}),e.d(n,"E",function(){return X}),e.d(n,"qb",function(){return Y}),e.d(n,"fb",function(){return Z}),e.d(n,"e",function(){return tt}),e.d(n,"db",function(){return nt}),e.d(n,"G",function(){return et}),e.d(n,"v",function(){return it}),e.d(n,"wb",function(){return at}),e.d(n,"hb",function(){return rt}),e.d(n,"i",function(){return ct}),e.d(n,"eb",function(){return ot}),e.d(n,"K",function(){return ut}),e.d(n,"x",function(){return st}),e.d(n,"lb",function(){return dt}),e.d(n,"kb",function(){return lt}),e.d(n,"rb",function(){return ft}),e.d(n,"sb",function(){return pt}),e.d(n,"zb",function(){return mt}),e.d(n,"k",function(){return ht}),e.d(n,"L",function(){return bt}),e.d(n,"Mb",function(){return gt}),e.d(n,"Gb",function(){return yt}),e.d(n,"gb",function(){return St}),e.d(n,"o",function(){return Ot}),e.d(n,"P",function(){return jt}),e.d(n,"Q",function(){return Ct}),e.d(n,"A",function(){return wt}),e.d(n,"Xb",function(){return vt}),e.d(n,"pb",function(){return Dt}),e.d(n,"d",function(){return kt}),e.d(n,"F",function(){return It}),e.d(n,"u",function(){return Nt}),e.d(n,"Cb",function(){return Bt}),e.d(n,"m",function(){return xt}),e.d(n,"Sb",function(){return Lt}),e.d(n,"N",function(){return _t}),e.d(n,"Tb",function(){return Rt}),e.d(n,"Yb",function(){return Jt}),e.d(n,"Vb",function(){return Vt}),e.d(n,"f",function(){return zt}),e.d(n,"Ub",function(){return Et}),e.d(n,"H",function(){return Ft}),e.d(n,"jb",function(){return Tt}),e.d(n,"b",function(){return At}),e.d(n,"Bb",function(){return qt}),e.d(n,"T",function(){return Mt}),e.d(n,"Pb",function(){return Qt}),e.d(n,"t",function(){return $t}),e.d(n,"cb",function(){return Gt}),e.d(n,"W",function(){return Wt}),e.d(n,"ab",function(){return Pt}),e.d(n,"bb",function(){return Kt}),e.d(n,"V",function(){return Ht}),e.d(n,"X",function(){return Ut}),e.d(n,"Z",function(){return Xt}),e.d(n,"Y",function(){return Yt});var i=e("7f80"),a=function(t){return Object(i["f"])("/system/sys-user/select",t)},r=function(t,n){var e=n||1;return Object(i["f"])("/system/sys-user/list?isAsc=1&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),t)},c=function(t){var n=JSON.stringify(t);return Object(i["f"])("/system/sys-user/add",n)},o=function(t){return Object(i["f"])("/system/sys-user/delete?userId=".concat(t))},u=function(t){var n=JSON.stringify(t);return Object(i["f"])("/system/sys-user/edit",n)},s=function(t){return Object(i["f"])("/system/sys-user/select?userId=".concat(t))},d=function(t){var n=JSON.stringify(t);return Object(i["f"])("/system/sys-user/edit",n)},l=function(t,n){return Object(i["f"])("/system/sys-shop-info/list?isAsc=1&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),t)},f=function(t){var n=JSON.stringify(t);return Object(i["f"])("/system/sys-shop-info/add",n)},p=function(t){var n=JSON.stringify(t);return Object(i["f"])("/system/sys-shop-info/edit",n)},m=function(t){return Object(i["f"])("/system/sys-shop-info/delete?shopId=".concat(t))},h=function(t){return Object(i["f"])("/drawDaily/activity/list",t)},b=function(){return Object(i["c"])("/miniapp/miniapp-info/store")},g=function(t,n){return Object(i["f"])("/operation/operation-info/list?isAsc=ASC&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),t)},y=function(t){var n=JSON.stringify(t);return Object(i["f"])("/operation/operation-info/add",n)},S=function(t,n){return Object(i["f"])("/operation/operation-info/editStatus?operationId=".concat(t,"&status=").concat(n))},O=function(t){return Object(i["c"])("/operation/operation-info/delete?operationId=".concat(t))},j=function(t){var n=JSON.stringify(t);return Object(i["f"])("/operation/operation-info/edit",n)},C=function(t){return Object(i["f"])("/system/sys-dict-data/selectDictDataDictCode?dictCode=".concat(t))},w=function(t){var n=JSON.stringify(t);return Object(i["f"])("/operation/operation-info/addOperationTopic",n)},v=function(t){return Object(i["c"])("/qrtz/job/queryjob?pageNum=".concat(t,"&pageSize=10"))},D=function(t,n,e){return Object(i["f"])("/qrtz/job/addjob?cronExpression=".concat(t,"&jobClassName=").concat(n,"&jobGroupName=").concat(e))},k=function(t,n){return Object(i["f"])("/qrtz/job/deletejob?jobClassName=".concat(t,"&jobGroupName=").concat(n))},I=function(t,n){return Object(i["f"])("/qrtz/job/pausejob?jobClassName=".concat(t,"&jobGroupName=").concat(n))},N=function(t,n){return Object(i["f"])("/qrtz/job/resumejob?jobClassName=".concat(t,"&jobGroupName=").concat(n))},B=function(t,n,e){return Object(i["f"])("/qrtz/job/updateJob?cronExpression=".concat(t,"&jobClassName=").concat(n,"&jobGroupName=").concat(e))},x=function(){return Object(i["c"])("/qa/QaInfo/selectQaInfoList")},L=function(t){var n=JSON.stringify(t);return console.log(n),Object(i["f"])("/qa/QaInfo/edit",n)},_=function(t,n){return Object(i["f"])("/system/sys-api-log/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),t)},R=function(t){return Object(i["f"])("/system/sys-api-log/queryLogDetail?id=".concat(t))},J=function(){return Object(i["f"])("/rule/rakeBackRule/selectRakeBackRuleList")},V=function(t){var n=JSON.stringify(t);return Object(i["f"])("/rule/rakeBackRule/insertRakeBackRule",n)},z=function(t){var n=JSON.stringify(t);return Object(i["f"])("/rule/rakeBackRule/updateRakeBackRule",n)},E=function(t){return Object(i["f"])("/rule/rakeBackRule/deleteRakeBackRuleByID?id=".concat(t))},F=function(t,n){return Object(i["f"])("/rakeback/applyCash/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),t)},T=function(t,n,e,a){return Object(i["f"])("/rakeback/applyCash/auditById?auditType=".concat(t,"&id=").concat(n,"&refuseReason=").concat(e,"&remark=").concat(a))},A=function(t){return Object(i["c"])("/rakeback/applyCash/selectById?id=".concat(t))},q=function(t,n){return Object(i["f"])("/qrcode/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),t)},M=function(t){return Object(i["f"])("/qrcode/add",t)},Q=function(t){return Object(i["f"])("/system/sys-dict-data/selectDictDataDictCode?dictCode=service_type")},$=function(t){return Object(i["f"])("/qrcode/getServiceParams?qrcodeId=".concat(t))},G=function(t,n){var e=JSON.stringify(t);return Object(i["f"])("/merchant/merchantEmployee/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),e)},W=function(){return Object(i["f"])("/merchant/merchantInfo/list?isAsc=DESC&orderByColumn=1&pageNum=1&pageSize=99999",{})},P=function(t){return Object(i["f"])("/merchant/merchantEmployee/add",t)},K=function(t){return Object(i["f"])("/merchant/merchantEmployee/delete?id=".concat(t))},H=function(){return Object(i["c"])("/score/SigninRule/selectSigninRule")},U=function(t){var n=JSON.stringify(t);return Object(i["f"])("/score/SigninRule/add",n)},X=function(t){var n=JSON.stringify(t);return Object(i["f"])("/score/SigninRule/edit",n)},Y=function(t,n){var e=JSON.stringify(t);return Object(i["f"])("/draw/activity/list?pageNum=".concat(n,"&pageSize=10"),e)},Z=function(){var t={campType:"57",sendChannel:"5"};return Object(i["f"])("/campagin/list?pageNum=1&pageSize=99999999",t)},tt=function(t){return Object(i["j"])("/draw/activity/add",t)},nt=function(t){return Object(i["j"])("/draw/activity/getByActId?actId=".concat(t))},et=function(t,n){return Object(i["j"])("/draw/activity/edit/".concat(n),t)},it=function(t){return Object(i["j"])("/draw/activity/delete?actId=".concat(t))},at=function(t,n){var e=JSON.stringify(t);return Object(i["f"])("/cashCouponDrawSet/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),e)},rt=function(){var t={sendChannel:"6"};return Object(i["f"])("/cashCouponDrawSet/selectCampPage?isAsc=DESC&orderByColumn=1&pageNum=1&pageSize=999999",t)},ct=function(t){var n=JSON.stringify(t);return Object(i["f"])("/cashCouponDrawSet/add",n)},ot=function(t){return Object(i["j"])("/cashCouponDrawSet/selectByCampId?campId=".concat(t))},ut=function(t){var n=JSON.stringify(t);return Object(i["f"])("/cashCouponDrawSet/edit",n)},st=function(t){return Object(i["j"])("/cashCouponDrawSet/delete?campId=".concat(t))},dt=function(t,n){var e=JSON.stringify(t);return Object(i["f"])("/coupon/receiveInfo/couponReport?isAsc=DESC&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),e)},lt=function(t,n){return Object(i["c"])("/coupon/receiveInfo/selectByCampId?campId=".concat(t,"&pageNum=").concat(n,"&pageSize=10"))},ft=function(t,n){var e=JSON.stringify(t);return Object(i["f"])("/merchantCoupon/receiveInfo/merchantCouponReport?isAsc=DESC&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),e)},pt=function(t,n){return Object(i["c"])("/merchantCoupon/receiveInfo/selectByTemplateId?templateId=".concat(t,"&pageNum=").concat(n,"&pageSize=10"))},mt=function(){return Object(i["f"])("/rule/rakeBackRule/selectRakeBackRule")},ht=function(t){var n=JSON.stringify(t);return Object(i["f"])("/rule/rakeBackRule/insertRakeBackRule",n)},bt=function(t){var n=JSON.stringify(t);return Object(i["f"])("/rule/rakeBackRule/updateRakeBackRule",n)},gt=function(t,n){return Object(i["f"])("/rule/rakeBackRule/selectByField?field=".concat(t,"&pageNum=").concat(n,"&pageSize=10"))},yt=function(t,n){var e=JSON.stringify(t);return Object(i["f"])("/specialTopic/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),e)},St=function(t,n,e){var a=JSON.stringify(n);return Object(i["f"])("".concat(t,"?pageNum=").concat(e,"&pageSize=10"),a)},Ot=function(t){var n=JSON.stringify(t);return Object(i["f"])("/specialTopic/add",n)},jt=function(t){return Object(i["f"])("/specialTopic/selectById?id=".concat(t))},Ct=function(t){var n=JSON.stringify(t);return Object(i["f"])("/specialTopic/edit",n)},wt=function(t){return Object(i["f"])("/specialTopic/delete?id=".concat(t))},vt=function(t,n){return Object(i["f"])("/specialTopic/updateStatus?id=".concat(t,"&status=").concat(n))},Dt=function(t,n){return Object(i["f"])("/hotCoupon/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(t,"&pageSize=10&shopId=").concat(n))},kt=function(t){var n=JSON.stringify(t);return Object(i["f"])("/hotCoupon/add",n)},It=function(t,n){return Object(i["f"])("/hotCoupon/edit?event=".concat(t,"&id=").concat(n))},Nt=function(t){return Object(i["f"])("/hotCoupon/delete?id=".concat(t))},Bt=function(t,n){var e=JSON.stringify(t);return Object(i["f"])("/nameing/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),e)},xt=function(t){var n=JSON.stringify(t);return Object(i["f"])("/nameing/add",n)},Lt=function(t){return Object(i["f"])("/nameing/selectByActivityId?activityId=".concat(t))},_t=function(t){var n=JSON.stringify(t);return Object(i["f"])("/nameing/edit",n)},Rt=function(t){return Object(i["f"])("/nameing/selectById?id=".concat(t))},Jt=function(t,n){return Object(i["f"])("/nameing/updateStatus?id=".concat(t,"&status=").concat(n))},Vt=function(t){return Object(i["f"])("/material/selectByActivityId?activityId=".concat(t))},zt=function(t){var n=JSON.stringify(t);return Object(i["f"])("/material/add",n)},Et=function(t){return Object(i["f"])("/material/selectById?id=".concat(t))},Ft=function(t){var n=JSON.stringify(t);return Object(i["f"])("/material/edit",n)},Tt=function(t,n){var e=JSON.stringify(t);return Object(i["f"])("/compensate/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),e)},At=function(t){var n=JSON.stringify(t);return Object(i["f"])("/compensate/add",n)},qt=function(t,n){var e=JSON.stringify(t);return Object(i["f"])("/couponrecommend/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),e)},Mt=function(t){var n=JSON.stringify(t);return Object(i["f"])("/couponrecommend/updateStatus/",n)},Qt=function(t){var n=JSON.stringify(t);return Object(i["f"])("/couponrecommend/shopRelation/listShop",n)},$t=function(t){return Object(i["c"])("/couponrecommend/barcodeRelation/list/".concat(t))},Gt=function(t){return Object(i["f"])("/withdraw/apply/pre/audit/list-data",t)},Wt=function(t){return Object(i["f"])("/withdraw/apply/financial/audit/list-data",t)},Pt=function(t){return Object(i["f"])("/withdraw/apply/paid/list-data",t)},Kt=function(t){return Object(i["f"])("/withdraw/apply/pay/failure/list-data",t)},Ht=function(t){return Object(i["f"])("/withdraw/apply/audit",t)},Ut=function(t){return Object(i["f"])("/withdraw/apply/audit/record/list-data",t)},Xt=function(t){return Object(i["b"])("/withdraw/apply/excel/download",t)},Yt=function(t){return Object(i["b"])("/withdraw/apply/award-recharge/excel/download",t)}},8507:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",[e("Card",{staticStyle:{"margin-bottom":"2px"},attrs:{bordered:!1}},[e("Form",{attrs:{inline:""}},[e("FormItem",{attrs:{label:"奖品优惠券活动ID：","label-width":120}},[e("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入奖品优惠券活动ID",clearable:"",max:1e17,min:0},nativeOn:{keyup:function(n){return t.changeNumber(n)}},model:{value:t.searchData.campId,callback:function(n){t.$set(t.searchData,"campId",n)},expression:"searchData.campId"}})],1),t.drop?e("span",[e("FormItem",{attrs:{label:"优惠券活动名称：","label-width":120}},[e("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入优惠券活动名称",clearable:""},model:{value:t.searchData.name,callback:function(n){t.$set(t.searchData,"name",n)},expression:"searchData.name"}})],1)],1):t._e(),e("FormItem",{staticClass:"br",staticStyle:{"margin-left":"35px"}},[e("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.search}},[t._v("搜索")]),e("Button",{attrs:{icon:"md-refresh"},on:{click:t.reset}},[t._v("重置")]),e("a",{staticClass:"drop-down",on:{click:t.dropDown}},[t._v("\n            "+t._s(t.dropDownContent)+"\n            "),e("Icon",{attrs:{type:t.dropDownIcon}})],1)],1)],1)],1),e("Card",{attrs:{bordered:!1}},[e("Row",{staticClass:"operation"},[e("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:t.addStaff}},[t._v("新增")]),e("Button",{attrs:{icon:"md-refresh"},on:{click:t.search}},[t._v("刷新")])],1),e("div",[e("Table",{attrs:{border:"",width:"100%",columns:t.columns8,data:t.personGiftList,loading:t.TableLoading},scopedSlots:t._u([{key:"wxQrcode",fn:function(n){var i=n.row;return[""!=i.wxQrcode?e("img",{staticStyle:{width:"40px"},attrs:{src:i.wxQrcode},on:{click:function(n){t.wxQrcodeLook(i.wxQrcode)}}}):t._e()]}},{key:"action",fn:function(n){var i=n.row;return[e("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(n){t.editStaff(i)}}},[t._v("编辑")]),e("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(n){t.checkDetails(i)}}},[t._v("查看详情")]),e("Button",{attrs:{type:"error",size:"small"},on:{click:function(n){t.delLuckyDrawFn(i)}}},[t._v("删除")])]}}])})],1),e("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[e("Page",{attrs:{total:t.totalSize,"show-total":"","show-elevator":"",current:t.current},on:{"on-change":t.changeCurrent}})],1)],1)],1),e("Modal",{attrs:{title:t.modalTitle,width:"885","footer-hide":"",closable:!1,"mask-closable":!1},model:{value:t.addStaffDisplay,callback:function(n){t.addStaffDisplay=n},expression:"addStaffDisplay"}},[e("Form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":120}},[e("FormItem",{attrs:{label:"奖品优惠券活动：",required:""}},[""==this.campaginName?e("Button",{on:{click:t.getCampaginListFn}},[t._v("未选择")]):e("Button",{on:{click:t.getCampaginListFn}},[t._v(t._s(t.campaginName))])],1),e("Row",[e("Timeline",{attrs:{pending:""}},t._l(t.formValidate.cashCouponDrawSetList,function(n,i){return e("TimelineItem",{key:i,staticStyle:{padding:"0"}},[e("Row",[e("Col",{attrs:{span:"2"}},[e("p",{staticClass:"time"},[t._v("概率"+t._s(i+1))])]),e("Col",{attrs:{span:"22"}},[e("Card",[e("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{label:"现金券面额",required:"","label-width":85}},[e("InputNumber",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入",min:0,max:9999999999999},model:{value:n.ticketMoney,callback:function(e){t.$set(n,"ticketMoney",e)},expression:"item.ticketMoney"}}),t._v("  元\n                  ")],1),e("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{label:"限制张数",required:"","label-width":110}},[e("InputNumber",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入",min:1,max:9999999999999},on:{"on-change":t.percentWatch},model:{value:n.limitCnt,callback:function(e){t.$set(n,"limitCnt",e)},expression:"item.limitCnt"}}),t._v("  张\n                  ")],1),e("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{label:"中奖概率",required:"","label-width":110}},[e("InputNumber",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择时间",disabled:""},model:{value:n.percent,callback:function(e){t.$set(n,"percent",e)},expression:"item.percent"}})],1),t.formValidate.cashCouponDrawSetList.length>1?e("Button",{staticStyle:{"margin-left":"5%"},attrs:{type:"error",size:"small"},on:{click:function(e){t.handleRemove(i,n)}}},[t._v("删除")]):t._e()],1)],1)],1)],1)})),e("Button",{staticStyle:{margin:"0 0 10px 776px"},attrs:{type:"success",icon:"md-add"},on:{click:t.handleAdd}},[t._v("新增")])],1),e("Row",{staticStyle:{"margin-left":"739px"}},[e("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v("取消")]),e("Button",{attrs:{type:"primary"},on:{click:function(n){t.addLuckyDrawFn()}}},[t._v("保存")])],1)],1)],1),e("Modal",{attrs:{title:"查看详情",width:"885","footer-hide":"",closable:!1,"mask-closable":!1},model:{value:t.checkDetailsDisplay,callback:function(n){t.checkDetailsDisplay=n},expression:"checkDetailsDisplay"}},[e("Form",{ref:"checkDetailsData",attrs:{model:t.checkDetailsData,"label-width":120}},[e("Row",[e("FormItem",{attrs:{label:"奖品优惠券活动："}},[e("Button",{attrs:{disabled:""}},[t._v(t._s(t.campaginName))])],1),e("Timeline",{attrs:{pending:""}},t._l(t.checkDetailsData.cashCouponDrawSetList,function(n,i){return e("TimelineItem",{key:i,staticStyle:{padding:"0"}},[e("Row",[e("Col",{attrs:{span:"2"}},[e("p",{staticClass:"time"},[t._v("概率"+t._s(i+1))])]),e("Col",{attrs:{span:"22"}},[e("Card",[e("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{label:"现金券面额",required:"","label-width":85}},[e("InputNumber",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入",disabled:""},model:{value:n.ticketMoney,callback:function(e){t.$set(n,"ticketMoney",e)},expression:"item.ticketMoney"}}),t._v("  元\n                  ")],1),e("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{label:"限制张数",required:"","label-width":110}},[e("InputNumber",{staticStyle:{width:"100px"},attrs:{disabled:"",placeholder:"请输入",min:1,max:9999999999999},on:{"on-change":t.percentWatch},model:{value:n.limitCnt,callback:function(e){t.$set(n,"limitCnt",e)},expression:"item.limitCnt"}}),t._v("  张\n                  ")],1),e("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{label:"中奖概率",required:"","label-width":110}},[e("InputNumber",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择时间",disabled:""},model:{value:n.percent,callback:function(e){t.$set(n,"percent",e)},expression:"item.percent"}})],1)],1)],1)],1)],1)}))],1),e("Row",{staticStyle:{"margin-left":"795px"}},[e("Button",{on:{click:t.close}},[t._v("关闭")])],1)],1)],1),e("Modal",{attrs:{title:"请选择优惠活动",width:"600","footer-hide":"",closable:!1,"mask-closable":!1},model:{value:t.campaginDisplay,callback:function(n){t.campaginDisplay=n},expression:"campaginDisplay"}},[e("div",{staticStyle:{height:"443px",overflow:"auto"}},[e("Table",{ref:"selection",attrs:{border:"","highlight-row":"",columns:t.columns4,data:t.CampaginList},on:{"on-current-change":t.selectionCampagin}})],1),e("Row",{staticStyle:{margin:"10px 0 0 455px"}},[e("Button",{attrs:{type:"text"},on:{click:function(n){t.campaginDisplay=!1}}},[t._v("取消")]),e("Button",{attrs:{type:"primary"},on:{click:t.closeCampaginDisplay}},[t._v("确认")])],1)],1)],1)},a=[],r=e("6797"),c={name:"person_gift",data:function(){return{drop:!1,dropDownContent:"展开",dropDownIcon:"ios-arrow-down",columns8:[{title:"操作",align:"center",width:200,fixed:"left",slot:"action"},{title:"奖品优惠券活动ID",align:"center",minWidth:140,key:"campId"},{title:"优惠券活动名称",align:"center",minWidth:160,key:"name"}],columns4:[{title:"优惠活动名称",align:"center",minWidth:140,key:"name"}],personGiftList:[],CampaginList:[],campaginName:"",campaginId:"",searchData:{campId:null,name:""},current:1,totalSize:0,TableLoading:!1,merchantList:[],add_edit:null,modalTitle:"",addStaffDisplay:!1,formValidate:{cashCouponDrawSetList:[{campId:this.campaginId,limitCnt:null,percent:1,ticketMoney:null}]},file:null,uploadList1:[],userToken:{},editEmployeeId:"",bindData:{employeeId:"",mobile:null,type:""},campaginDisplay:!1,wxQrcodeDisplay:!1,wxQrcode_url:"",isCheckDisabled:!0,checkDetailsDisplay:!1,checkDetailsData:{}}},created:function(){this.getStaffListFn({})},watch:{},methods:{init:function(){},search:function(){this.getStaffListFn(this.searchData)},reset:function(){this.searchData.campId=null,this.searchData.name="",this.pagingType="1",this.search()},getStaffListFn:function(t){var n=this;this.TableLoading=!0,Object(r["wb"])(t,this.current).then(function(t){200==t.code?(n.personGiftList=t.data.records,n.current=t.data.current,n.totalSize=t.data.total,n.TableLoading=!1):n.msgErr(t.msg)})},addStaff:function(){this.add_edit=1,this.modalTitle="新增新人礼包",this.addStaffDisplay=!0},editStaff:function(t){var n=this;Object(r["eb"])(t.campId).then(function(e){200==e.code?(n.formValidate.cashCouponDrawSetList=e.data,n.formValidate.ids=[],n.campaginName=t.name,n.campaginId=t.campId,n.add_edit=2,n.modalTitle="编辑新人礼包",n.addStaffDisplay=!0):n.msgErr(e.msg)})},checkDetails:function(t){var n=this;Object(r["eb"])(t.campId).then(function(e){200==e.code?(n.campaginName=t.name,n.checkDetailsData.cashCouponDrawSetList=e.data,n.checkDetailsDisplay=!0):n.msgErr(e.msg)})},getCampaginListFn:function(){var t=this;Object(r["hb"])().then(function(n){if(200==n.code){for(var e=n.data.records,i=0;i<e.length;i++)1==e[i].status&&t.CampaginList.push(e[i]);t.campaginDisplay=!0}else t.msgErr(n.msg)})},selectionCampagin:function(t,n){this.campaginId=t.campId;for(var e=0;e<this.formValidate.cashCouponDrawSetList.length;e++)this.formValidate.cashCouponDrawSetList[e].campId=t.campId;this.campaginName=t.name,this.msgOk("选择成功")},closeCampaginDisplay:function(){""!=this.formValidate.campId?(this.CampaginList=[],this.campaginDisplay=!1):this.msgErr("还未选择优惠活动,请点击列表选择")},handleAdd:function(){""!=this.campaginId?this.formValidate.cashCouponDrawSetList.push({campId:this.campaginId,limitCnt:null,percent:null,ticketMoney:null}):this.msgErr("请选择奖品优惠券活动后，才能新增")},handleRemove:function(t,n){this.formValidate.cashCouponDrawSetList.splice(t,1),this.count(),n.id&&this.formValidate.ids.push(n.id)},addLuckyDrawFn:function(){var t=this;this.ruleValidate()&&(this.formValidate.ids&&(this.formValidate.ids=this.formValidate.ids.join()),1==this.add_edit?Object(r["i"])(this.formValidate).then(function(n){200==n.code?(t.msgOk("新增成功"),t.getStaffListFn({}),t.cancel()):t.msgErr(n.msg)}):2==this.add_edit&&Object(r["K"])(this.formValidate).then(function(n){200==n.code?(t.msgOk("编辑成功"),t.getStaffListFn({}),t.cancel()):t.msgErr(n.msg)}))},delLuckyDrawFn:function(t){var n=this;this.$Modal.confirm({title:"删除确认",content:"<p>确认删除当前新人礼包吗？</p>",onOk:function(){Object(r["x"])(t.campId).then(function(t){200==t.code?(n.msgOk("删除成功"),n.getStaffListFn({})):n.msgErr(t.msg)})},onCancel:function(){}})},cancel:function(){this.addStaffDisplay=!1,this.formValidate.ids&&(this.formValidate.ids=[]),this.formValidate.cashCouponDrawSetList=[{campId:this.campaginId,limitCnt:null,percent:1,ticketMoney:null}],this.campaginName="",this.campaginId=""},close:function(){this.checkDetailsDisplay=!1,this.campaginName=""},changeCurrent:function(t){this.current=t,this.getStaffListFn(this.searchData)},percentWatch:function(){this.formValidate.cashCouponDrawSetList.length>1&&this.count()},count:function(){for(var t,n=0,e=(this.formValidate.cashCouponDrawSetList[0].limitCnt,0);e<this.formValidate.cashCouponDrawSetList.length;e++)n+=this.formValidate.cashCouponDrawSetList[e].limitCnt;for(var i=0;i<this.formValidate.cashCouponDrawSetList.length;i++)t=this.formValidate.cashCouponDrawSetList[i].limitCnt/n,this.formValidate.cashCouponDrawSetList[i].percent=Number(t.toString().match(/^\d+(?:\.\d{0,4})?/));for(var a,r,c=0,o=this.formValidate.cashCouponDrawSetList.length-1,u=0;u<this.formValidate.cashCouponDrawSetList.length;u++)c+=this.formValidate.cashCouponDrawSetList[u].percent;1!=c&&(a=1-c,r=this.formValidate.cashCouponDrawSetList[o].percent+a,this.formValidate.cashCouponDrawSetList[o].percent=Number(r.toFixed(4)))},changeNumber:function(){var t=""+this.searchData.campId;if(-1!=t.indexOf(".")){var n=t.split("");n.splice(n.length-1);var e=n.join("");this.searchData.campId=+e,this.msgErr("不能输入小数点")}},changeNumber2:function(){var t=""+this.bindData.mobile;if(-1!=t.indexOf(".")){var n=t.split("");n.splice(n.length-1);var e=n.join("");this.bindData.mobile=+e,this.msgErr("不能输入小数点")}},ruleValidate:function(){if(""!=this.campaginId){for(var t=0;t<this.formValidate.cashCouponDrawSetList.length;t++){var n=t+1;if(null==this.formValidate.cashCouponDrawSetList[t].ticketMoney)return void this.msgErr("概率"+n+"的现金券面额不能为空！");if(null==this.formValidate.cashCouponDrawSetList[t].limitCnt)return void this.msgErr("概率"+n+"的限制张数不能为空！");var e=this.formValidate.cashCouponDrawSetList[t].limitCnt+"";if(-1!=e.indexOf("."))return void this.msgErr("概率"+n+"的限制张数不能有小数点！")}return!0}this.msgErr("请选择奖品优惠券活动")},msgOk:function(t){this.$Message.info({content:t,duration:3})},msgErr:function(t){this.$Message.error({content:t,duration:3})},dropDown:function(){this.drop?(this.dropDownContent="展开",this.dropDownIcon="ios-arrow-down"):(this.dropDownContent="收起",this.dropDownIcon="ios-arrow-up"),this.drop=!this.drop}},mounted:function(){this.init()}},o=c,u=(e("01563"),e("2877")),s=Object(u["a"])(o,i,a,!1,null,"72e2f832",null);s.options.__file="person_gift.vue";n["default"]=s.exports},"898f":function(t,n,e){}}]);