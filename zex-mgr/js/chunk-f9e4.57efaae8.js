(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9e4"],{4265:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"own-space"},[s("Card",[s("Tabs",{attrs:{animated:!1}},[s("TabPane",{attrs:{label:"基本信息",name:"info"}},[s("Form",{ref:"userForm",attrs:{model:t.userForm,"label-width":100,"label-position":"right"}},[s("FormItem",{attrs:{label:"用户名称"}},[s("span",[t._v(t._s(t.table_list.userName))])]),s("FormItem",{attrs:{label:"登录名称"}},[s("span",[t._v(t._s(t.table_list.loginName))])]),s("FormItem",{attrs:{label:"所属部门："}},[s("span",[t._v(t._s(t.table_list.deptName))])]),s("FormItem",{attrs:{label:"手机号："}},[s("span",[t._v(t._s(t.table_list.phonenumber))])]),s("FormItem",{attrs:{label:"邮箱："}},[s("span",[t._v(t._s(t.table_list.email))])]),s("FormItem",{attrs:{label:"性别："}},[0==t.table_list.sex?s("span",[t._v("男")]):1==t.table_list.sex?s("span",[t._v("女")]):t._e()]),s("FormItem",{attrs:{label:"状态："}},[0==t.table_list.status?s("span",{staticStyle:{color:"#ed4014"}},[t._v("禁用")]):1==t.table_list.status?s("span",{staticStyle:{color:"#19be6b"}},[t._v("正常")]):t._e()]),s("FormItem")],1)],1),s("TabPane",{attrs:{label:"修改密码",name:"password"}},[s("Form",{ref:"editPwd",attrs:{model:t.editPwd,"label-width":100,"label-position":"right"}},[s("FormItem",{attrs:{label:"密码显示"}},[s("i-switch",{attrs:{size:"large"},on:{"on-change":t.switchChange},model:{value:t.switch1,callback:function(e){t.switch1=e},expression:"switch1"}},[s("span",{attrs:{slot:"open"},slot:"open"},[t._v("显示")]),s("span",{attrs:{slot:"close"},slot:"close"},[t._v("隐藏")])])],1),s("FormItem",{attrs:{label:"原密码"}},[s("Input",{staticStyle:{width:"200px"},attrs:{type:t.inputType,clearable:"",placeholder:"请输入原密码"},model:{value:t.editPwd.originalPwd,callback:function(e){t.$set(t.editPwd,"originalPwd",e)},expression:"editPwd.originalPwd"}})],1),s("FormItem",{attrs:{label:"新密码"}},[s("Input",{staticStyle:{width:"200px"},attrs:{type:t.inputType,clearable:"",placeholder:"最少输入6位,不能有空格"},model:{value:t.editPwd.onePwd,callback:function(e){t.$set(t.editPwd,"onePwd",e)},expression:"editPwd.onePwd"}})],1),s("FormItem",{attrs:{label:"新密码检验"}},[s("Input",{staticStyle:{width:"200px"},attrs:{type:t.inputType,clearable:"",placeholder:"最少输入6位,不能有空格"},model:{value:t.editPwd.twoPwd,callback:function(e){t.$set(t.editPwd,"twoPwd",e)},expression:"editPwd.twoPwd"}})],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:t.modifyPassword}},[t._v("确认修改")]),s("Button",{staticStyle:{"margin-left":"30px"},on:{click:t.resetting}},[t._v("重置")])],1)],1)],1)],1)],1)],1)},a=[],o=s("7f80"),n={name:"ownspace_index",data:function(){return{userForm:{},saveLoading:!1,table_list:[],current:1,totalSize:0,pageNum:1,limit:10,allPosts:[],allRoles:[],switch1:!1,inputType:"password",editPwd:{originalPwd:"",onePwd:"",twoPwd:""}}},methods:{init:function(){this.userForm=JSON.parse(this.getStore("userInfo")),this.updateTableList()},updateTableList:function(){var t=this,e={userName:this.userForm.username};Object(o["f"])("/system/sys-user/list?pageNum="+this.pageNum+"&pageSize="+this.limit,e).then(function(e){e.isSuccess?t.table_list=e.data.records[0]:t.$Message.error(e.msg)})},cancel:function(){this.$store.commit("removeTag","ownspace"),localStorage.pageOpenedList=JSON.stringify(this.$store.state.app.pageOpenedList);var t="",e=this.$store.state.app.pageOpenedList.length;t=e>1?this.$store.state.app.pageOpenedList[e-1].name:this.$store.state.app.pageOpenedList[0].name,this.$router.push({name:t})},switchChange:function(t){1==t?this.inputType="text":0==t&&(this.inputType="password")},modifyPassword:function(){var t=this;if(this.editPwd.onePwd.indexOf(" ")>=0)this.$Message.error("新密码不能有空格");else if(this.editPwd.twoPwd.indexOf(" ")>=0)this.$Message.error("新密码检验不能有空格");else if(this.editPwd.originalPwd)if(this.editPwd.onePwd)if(this.editPwd.twoPwd)if(this.editPwd.onePwd.length<6)this.$Message.error("新密码至少6位");else if(this.editPwd.twoPwd.length<6)this.$Message.error("新密码检验至少6位");else if(this.editPwd.onePwd==this.editPwd.twoPwd){var e=this.editPwd.twoPwd,s=this.editPwd.originalPwd;Object(o["f"])("/system/sys-user/editPassWord?newPassword=".concat(e,"&oldPassword=").concat(s)).then(function(e){console.log(e),200==e.code?(t.$Message.info({content:"密码修改成功,请重新登录",duration:3}),setTimeout(function(){t.logOutOk()},3500)):t.$Message.error(e.msg)})}else this.$Message.error("新密码两次输入不一样");else this.$Message.error("新密码检验不能为空");else this.$Message.error("新密码不能为空");else this.$Message.error("原密码不能为空")},spaceFn1:function(t){},logOutOk:function(){this.$store.commit("logout",this),this.$store.commit("clearOpenedSubmenu"),location.reload()},resetting:function(){this.editPwd.originalPwd="",this.editPwd.onePwd="",this.editPwd.twoPwd=""}},mounted:function(){this.init()}},r=n,l=(s("9c99"),s("2877")),d=Object(l["a"])(r,i,a,!1,null,null,null);d.options.__file="own-space.vue";e["default"]=d.exports},"8f90":function(t,e,s){},"9c99":function(t,e,s){"use strict";var i=s("8f90"),a=s.n(i);a.a}}]);