(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7640"],{6797:function(t,e,n){"use strict";n.d(e,"Kb",function(){return a}),n.d(e,"Jb",function(){return r}),n.d(e,"r",function(){return c}),n.d(e,"D",function(){return o}),n.d(e,"Rb",function(){return s}),n.d(e,"Lb",function(){return d}),n.d(e,"S",function(){return u}),n.d(e,"Fb",function(){return l}),n.d(e,"n",function(){return f}),n.d(e,"O",function(){return m}),n.d(e,"z",function(){return p}),n.d(e,"Ob",function(){return b}),n.d(e,"ub",function(){return h}),n.d(e,"vb",function(){return y}),n.d(e,"g",function(){return g}),n.d(e,"J",function(){return S}),n.d(e,"w",function(){return v}),n.d(e,"I",function(){return O}),n.d(e,"mb",function(){return D}),n.d(e,"h",function(){return k}),n.d(e,"Ib",function(){return w}),n.d(e,"q",function(){return j}),n.d(e,"C",function(){return I}),n.d(e,"Wb",function(){return C}),n.d(e,"Qb",function(){return N}),n.d(e,"R",function(){return T}),n.d(e,"ob",function(){return B}),n.d(e,"c",function(){return x}),n.d(e,"yb",function(){return V}),n.d(e,"xb",function(){return E}),n.d(e,"Ab",function(){return L}),n.d(e,"l",function(){return _}),n.d(e,"M",function(){return z}),n.d(e,"y",function(){return A}),n.d(e,"s",function(){return R}),n.d(e,"U",function(){return J}),n.d(e,"nb",function(){return F}),n.d(e,"Nb",function(){return q}),n.d(e,"j",function(){return M}),n.d(e,"Eb",function(){return $}),n.d(e,"Db",function(){return P}),n.d(e,"Hb",function(){return Q}),n.d(e,"tb",function(){return W}),n.d(e,"p",function(){return H}),n.d(e,"B",function(){return G}),n.d(e,"ib",function(){return U}),n.d(e,"a",function(){return K}),n.d(e,"E",function(){return X}),n.d(e,"qb",function(){return Y}),n.d(e,"fb",function(){return Z}),n.d(e,"e",function(){return tt}),n.d(e,"db",function(){return et}),n.d(e,"G",function(){return nt}),n.d(e,"v",function(){return it}),n.d(e,"wb",function(){return at}),n.d(e,"hb",function(){return rt}),n.d(e,"i",function(){return ct}),n.d(e,"eb",function(){return ot}),n.d(e,"K",function(){return st}),n.d(e,"x",function(){return dt}),n.d(e,"lb",function(){return ut}),n.d(e,"kb",function(){return lt}),n.d(e,"rb",function(){return ft}),n.d(e,"sb",function(){return mt}),n.d(e,"zb",function(){return pt}),n.d(e,"k",function(){return bt}),n.d(e,"L",function(){return ht}),n.d(e,"Mb",function(){return yt}),n.d(e,"Gb",function(){return gt}),n.d(e,"gb",function(){return St}),n.d(e,"o",function(){return vt}),n.d(e,"P",function(){return Ot}),n.d(e,"Q",function(){return Dt}),n.d(e,"A",function(){return kt}),n.d(e,"Xb",function(){return wt}),n.d(e,"pb",function(){return jt}),n.d(e,"d",function(){return It}),n.d(e,"F",function(){return Ct}),n.d(e,"u",function(){return Nt}),n.d(e,"Cb",function(){return Tt}),n.d(e,"m",function(){return Bt}),n.d(e,"Sb",function(){return xt}),n.d(e,"N",function(){return Vt}),n.d(e,"Tb",function(){return Et}),n.d(e,"Yb",function(){return Lt}),n.d(e,"Vb",function(){return _t}),n.d(e,"f",function(){return zt}),n.d(e,"Ub",function(){return At}),n.d(e,"H",function(){return Rt}),n.d(e,"jb",function(){return Jt}),n.d(e,"b",function(){return Ft}),n.d(e,"Bb",function(){return qt}),n.d(e,"T",function(){return Mt}),n.d(e,"Pb",function(){return $t}),n.d(e,"t",function(){return Pt}),n.d(e,"cb",function(){return Qt}),n.d(e,"W",function(){return Wt}),n.d(e,"ab",function(){return Ht}),n.d(e,"bb",function(){return Gt}),n.d(e,"V",function(){return Ut}),n.d(e,"X",function(){return Kt}),n.d(e,"Z",function(){return Xt}),n.d(e,"Y",function(){return Yt});var i=n("7f80"),a=function(t){return Object(i["f"])("/system/sys-user/select",t)},r=function(t,e){var n=e||1;return Object(i["f"])("/system/sys-user/list?isAsc=1&orderByColumn=1&pageNum=".concat(n,"&pageSize=10"),t)},c=function(t){var e=JSON.stringify(t);return Object(i["f"])("/system/sys-user/add",e)},o=function(t){return Object(i["f"])("/system/sys-user/delete?userId=".concat(t))},s=function(t){var e=JSON.stringify(t);return Object(i["f"])("/system/sys-user/edit",e)},d=function(t){return Object(i["f"])("/system/sys-user/select?userId=".concat(t))},u=function(t){var e=JSON.stringify(t);return Object(i["f"])("/system/sys-user/edit",e)},l=function(t,e){return Object(i["f"])("/system/sys-shop-info/list?isAsc=1&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),t)},f=function(t){var e=JSON.stringify(t);return Object(i["f"])("/system/sys-shop-info/add",e)},m=function(t){var e=JSON.stringify(t);return Object(i["f"])("/system/sys-shop-info/edit",e)},p=function(t){return Object(i["f"])("/system/sys-shop-info/delete?shopId=".concat(t))},b=function(t){return Object(i["f"])("/drawDaily/activity/list",t)},h=function(){return Object(i["c"])("/miniapp/miniapp-info/store")},y=function(t,e){return Object(i["f"])("/operation/operation-info/list?isAsc=ASC&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),t)},g=function(t){var e=JSON.stringify(t);return Object(i["f"])("/operation/operation-info/add",e)},S=function(t,e){return Object(i["f"])("/operation/operation-info/editStatus?operationId=".concat(t,"&status=").concat(e))},v=function(t){return Object(i["c"])("/operation/operation-info/delete?operationId=".concat(t))},O=function(t){var e=JSON.stringify(t);return Object(i["f"])("/operation/operation-info/edit",e)},D=function(t){return Object(i["f"])("/system/sys-dict-data/selectDictDataDictCode?dictCode=".concat(t))},k=function(t){var e=JSON.stringify(t);return Object(i["f"])("/operation/operation-info/addOperationTopic",e)},w=function(t){return Object(i["c"])("/qrtz/job/queryjob?pageNum=".concat(t,"&pageSize=10"))},j=function(t,e,n){return Object(i["f"])("/qrtz/job/addjob?cronExpression=".concat(t,"&jobClassName=").concat(e,"&jobGroupName=").concat(n))},I=function(t,e){return Object(i["f"])("/qrtz/job/deletejob?jobClassName=".concat(t,"&jobGroupName=").concat(e))},C=function(t,e){return Object(i["f"])("/qrtz/job/pausejob?jobClassName=".concat(t,"&jobGroupName=").concat(e))},N=function(t,e){return Object(i["f"])("/qrtz/job/resumejob?jobClassName=".concat(t,"&jobGroupName=").concat(e))},T=function(t,e,n){return Object(i["f"])("/qrtz/job/updateJob?cronExpression=".concat(t,"&jobClassName=").concat(e,"&jobGroupName=").concat(n))},B=function(){return Object(i["c"])("/qa/QaInfo/selectQaInfoList")},x=function(t){var e=JSON.stringify(t);return console.log(e),Object(i["f"])("/qa/QaInfo/edit",e)},V=function(t,e){return Object(i["f"])("/system/sys-api-log/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),t)},E=function(t){return Object(i["f"])("/system/sys-api-log/queryLogDetail?id=".concat(t))},L=function(){return Object(i["f"])("/rule/rakeBackRule/selectRakeBackRuleList")},_=function(t){var e=JSON.stringify(t);return Object(i["f"])("/rule/rakeBackRule/insertRakeBackRule",e)},z=function(t){var e=JSON.stringify(t);return Object(i["f"])("/rule/rakeBackRule/updateRakeBackRule",e)},A=function(t){return Object(i["f"])("/rule/rakeBackRule/deleteRakeBackRuleByID?id=".concat(t))},R=function(t,e){return Object(i["f"])("/rakeback/applyCash/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),t)},J=function(t,e,n,a){return Object(i["f"])("/rakeback/applyCash/auditById?auditType=".concat(t,"&id=").concat(e,"&refuseReason=").concat(n,"&remark=").concat(a))},F=function(t){return Object(i["c"])("/rakeback/applyCash/selectById?id=".concat(t))},q=function(t,e){return Object(i["f"])("/qrcode/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),t)},M=function(t){return Object(i["f"])("/qrcode/add",t)},$=function(t){return Object(i["f"])("/system/sys-dict-data/selectDictDataDictCode?dictCode=service_type")},P=function(t){return Object(i["f"])("/qrcode/getServiceParams?qrcodeId=".concat(t))},Q=function(t,e){var n=JSON.stringify(t);return Object(i["f"])("/merchant/merchantEmployee/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),n)},W=function(){return Object(i["f"])("/merchant/merchantInfo/list?isAsc=DESC&orderByColumn=1&pageNum=1&pageSize=99999",{})},H=function(t){return Object(i["f"])("/merchant/merchantEmployee/add",t)},G=function(t){return Object(i["f"])("/merchant/merchantEmployee/delete?id=".concat(t))},U=function(){return Object(i["c"])("/score/SigninRule/selectSigninRule")},K=function(t){var e=JSON.stringify(t);return Object(i["f"])("/score/SigninRule/add",e)},X=function(t){var e=JSON.stringify(t);return Object(i["f"])("/score/SigninRule/edit",e)},Y=function(t,e){var n=JSON.stringify(t);return Object(i["f"])("/draw/activity/list?pageNum=".concat(e,"&pageSize=10"),n)},Z=function(){var t={campType:"57",sendChannel:"5"};return Object(i["f"])("/campagin/list?pageNum=1&pageSize=99999999",t)},tt=function(t){return Object(i["j"])("/draw/activity/add",t)},et=function(t){return Object(i["j"])("/draw/activity/getByActId?actId=".concat(t))},nt=function(t,e){return Object(i["j"])("/draw/activity/edit/".concat(e),t)},it=function(t){return Object(i["j"])("/draw/activity/delete?actId=".concat(t))},at=function(t,e){var n=JSON.stringify(t);return Object(i["f"])("/cashCouponDrawSet/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),n)},rt=function(){var t={sendChannel:"6"};return Object(i["f"])("/cashCouponDrawSet/selectCampPage?isAsc=DESC&orderByColumn=1&pageNum=1&pageSize=999999",t)},ct=function(t){var e=JSON.stringify(t);return Object(i["f"])("/cashCouponDrawSet/add",e)},ot=function(t){return Object(i["j"])("/cashCouponDrawSet/selectByCampId?campId=".concat(t))},st=function(t){var e=JSON.stringify(t);return Object(i["f"])("/cashCouponDrawSet/edit",e)},dt=function(t){return Object(i["j"])("/cashCouponDrawSet/delete?campId=".concat(t))},ut=function(t,e){var n=JSON.stringify(t);return Object(i["f"])("/coupon/receiveInfo/couponReport?isAsc=DESC&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),n)},lt=function(t,e){return Object(i["c"])("/coupon/receiveInfo/selectByCampId?campId=".concat(t,"&pageNum=").concat(e,"&pageSize=10"))},ft=function(t,e){var n=JSON.stringify(t);return Object(i["f"])("/merchantCoupon/receiveInfo/merchantCouponReport?isAsc=DESC&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),n)},mt=function(t,e){return Object(i["c"])("/merchantCoupon/receiveInfo/selectByTemplateId?templateId=".concat(t,"&pageNum=").concat(e,"&pageSize=10"))},pt=function(){return Object(i["f"])("/rule/rakeBackRule/selectRakeBackRule")},bt=function(t){var e=JSON.stringify(t);return Object(i["f"])("/rule/rakeBackRule/insertRakeBackRule",e)},ht=function(t){var e=JSON.stringify(t);return Object(i["f"])("/rule/rakeBackRule/updateRakeBackRule",e)},yt=function(t,e){return Object(i["f"])("/rule/rakeBackRule/selectByField?field=".concat(t,"&pageNum=").concat(e,"&pageSize=10"))},gt=function(t,e){var n=JSON.stringify(t);return Object(i["f"])("/specialTopic/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),n)},St=function(t,e,n){var a=JSON.stringify(e);return Object(i["f"])("".concat(t,"?pageNum=").concat(n,"&pageSize=10"),a)},vt=function(t){var e=JSON.stringify(t);return Object(i["f"])("/specialTopic/add",e)},Ot=function(t){return Object(i["f"])("/specialTopic/selectById?id=".concat(t))},Dt=function(t){var e=JSON.stringify(t);return Object(i["f"])("/specialTopic/edit",e)},kt=function(t){return Object(i["f"])("/specialTopic/delete?id=".concat(t))},wt=function(t,e){return Object(i["f"])("/specialTopic/updateStatus?id=".concat(t,"&status=").concat(e))},jt=function(t,e){return Object(i["f"])("/hotCoupon/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(t,"&pageSize=10&shopId=").concat(e))},It=function(t){var e=JSON.stringify(t);return Object(i["f"])("/hotCoupon/add",e)},Ct=function(t,e){return Object(i["f"])("/hotCoupon/edit?event=".concat(t,"&id=").concat(e))},Nt=function(t){return Object(i["f"])("/hotCoupon/delete?id=".concat(t))},Tt=function(t,e){var n=JSON.stringify(t);return Object(i["f"])("/nameing/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),n)},Bt=function(t){var e=JSON.stringify(t);return Object(i["f"])("/nameing/add",e)},xt=function(t){return Object(i["f"])("/nameing/selectByActivityId?activityId=".concat(t))},Vt=function(t){var e=JSON.stringify(t);return Object(i["f"])("/nameing/edit",e)},Et=function(t){return Object(i["f"])("/nameing/selectById?id=".concat(t))},Lt=function(t,e){return Object(i["f"])("/nameing/updateStatus?id=".concat(t,"&status=").concat(e))},_t=function(t){return Object(i["f"])("/material/selectByActivityId?activityId=".concat(t))},zt=function(t){var e=JSON.stringify(t);return Object(i["f"])("/material/add",e)},At=function(t){return Object(i["f"])("/material/selectById?id=".concat(t))},Rt=function(t){var e=JSON.stringify(t);return Object(i["f"])("/material/edit",e)},Jt=function(t,e){var n=JSON.stringify(t);return Object(i["f"])("/compensate/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),n)},Ft=function(t){var e=JSON.stringify(t);return Object(i["f"])("/compensate/add",e)},qt=function(t,e){var n=JSON.stringify(t);return Object(i["f"])("/couponrecommend/list?isAsc=DESC&orderByColumn=1&pageNum=".concat(e,"&pageSize=10"),n)},Mt=function(t){var e=JSON.stringify(t);return Object(i["f"])("/couponrecommend/updateStatus/",e)},$t=function(t){var e=JSON.stringify(t);return Object(i["f"])("/couponrecommend/shopRelation/listShop",e)},Pt=function(t){return Object(i["c"])("/couponrecommend/barcodeRelation/list/".concat(t))},Qt=function(t){return Object(i["f"])("/withdraw/apply/pre/audit/list-data",t)},Wt=function(t){return Object(i["f"])("/withdraw/apply/financial/audit/list-data",t)},Ht=function(t){return Object(i["f"])("/withdraw/apply/paid/list-data",t)},Gt=function(t){return Object(i["f"])("/withdraw/apply/pay/failure/list-data",t)},Ut=function(t){return Object(i["f"])("/withdraw/apply/audit",t)},Kt=function(t){return Object(i["f"])("/withdraw/apply/audit/record/list-data",t)},Xt=function(t){return Object(i["b"])("/withdraw/apply/excel/download",t)},Yt=function(t){return Object(i["b"])("/withdraw/apply/award-recharge/excel/download",t)}},"736e":function(t,e,n){"use strict";var i=n("bbd3"),a=n.n(i);a.a},bbd3:function(t,e,n){},e5e5:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("Card",{staticStyle:{"margin-bottom":"2px"},attrs:{bordered:!1}},[n("Form",{attrs:{inline:""}},[n("FormItem",{attrs:{label:"活动Id：","label-width":85}},[n("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入活动Id",clearable:"",max:1e17,min:0},nativeOn:{keyup:function(e){return t.changeNumber(e)}},model:{value:t.searchData.actId,callback:function(e){t.$set(t.searchData,"actId",e)},expression:"searchData.actId"}})],1),t.drop?n("span",[n("FormItem",{attrs:{label:"奖品优惠券活动Id：","label-width":120}},[n("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入奖品优惠券活动Id",clearable:"",max:1e17,min:0},nativeOn:{keyup:function(e){return t.changeNumber1(e)}},model:{value:t.searchData.campId,callback:function(e){t.$set(t.searchData,"campId",e)},expression:"searchData.campId"}})],1)],1):t._e(),n("FormItem",{staticClass:"br",staticStyle:{"margin-left":"35px"}},[n("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.search}},[t._v("搜索")]),n("Button",{attrs:{icon:"md-refresh"},on:{click:t.reset}},[t._v("重置")]),n("a",{staticClass:"drop-down",on:{click:t.dropDown}},[t._v("\n            "+t._s(t.dropDownContent)+"\n            "),n("Icon",{attrs:{type:t.dropDownIcon}})],1)],1)],1)],1),n("Card",{attrs:{bordered:!1}},[n("Row",{staticClass:"operation"},[n("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:t.addStaff}},[t._v("新增")]),n("Button",{attrs:{icon:"md-refresh"},on:{click:t.search}},[t._v("刷新")])],1),n("div",[n("Table",{attrs:{border:"",width:"100%",columns:t.columns8,data:t.LuckyDrawList,loading:t.TableLoading},scopedSlots:t._u([{key:"wxQrcode",fn:function(e){var i=e.row;return[""!=i.wxQrcode?n("img",{staticStyle:{width:"40px"},attrs:{src:i.wxQrcode},on:{click:function(e){t.wxQrcodeLook(i.wxQrcode)}}}):t._e()]}},{key:"action",fn:function(e){var i=e.row;return[n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.editStaff(i)}}},[t._v("编辑")]),n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(e){t.checkDetails(i)}}},[t._v("查看详情")]),n("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.delLuckyDrawFn(i)}}},[t._v("删除")])]}}])})],1),n("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[n("Page",{attrs:{total:t.totalSize,"show-total":"","show-elevator":"",current:t.current},on:{"on-change":t.changeCurrent}})],1)],1)],1),n("Modal",{attrs:{title:t.modalTitle,width:"720","footer-hide":"",closable:!1,"mask-closable":!1},model:{value:t.addStaffDisplay,callback:function(e){t.addStaffDisplay=e},expression:"addStaffDisplay"}},[n("Form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":120}},[n("Row",[n("FormItem",{attrs:{label:"奖品优惠券活动：",required:""}},[""==this.campaginName?n("Button",{on:{click:t.getCampaginListFn}},[t._v("未选择")]):n("Button",{on:{click:t.getCampaginListFn}},[t._v(t._s(t.campaginName))])],1),n("Timeline",{attrs:{pending:""}},t._l(t.formValidate.drawActivityTimerangeList,function(e,i){return n("TimelineItem",{key:i,staticStyle:{padding:"0"}},[n("Row",[n("Col",{attrs:{span:"2"}},[n("p",{staticClass:"time"},[t._v("时间段"+t._s(i+1))])]),n("Col",{attrs:{span:"22"}},[n("Card",[n("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{label:"中奖位置",required:"","label-width":70}},[n("Tooltip",{attrs:{trigger:"focus",title:"提醒",content:"限制数量最小为1",placement:"top"}},[n("InputNumber",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入",min:1,max:99999},model:{value:e.prizeSort,callback:function(n){t.$set(e,"prizeSort",n)},expression:"item.prizeSort"}})],1)],1),n("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{label:"开始时间",required:"","label-width":80}},[n("TimePicker",{staticStyle:{width:"120px"},attrs:{format:"HH:mm",placeholder:"请选择时间","disabled-hours":t.disabledTimg1,"disabled-minutes":t.disabledTimg,"disabled-seconds":t.disabledTimg},model:{value:e.timeStart,callback:function(n){t.$set(e,"timeStart",n)},expression:"item.timeStart"}})],1),n("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{label:"结束时间",required:"","label-width":80}},[n("TimePicker",{staticStyle:{width:"120px"},attrs:{format:"HH:mm",placeholder:"请选择时间","disabled-hours":t.disabledTimg2,"disabled-minutes":t.disabledTimg,"disabled-seconds":t.disabledTimg},model:{value:e.timeEnd,callback:function(n){t.$set(e,"timeEnd",n)},expression:"item.timeEnd"}})],1),t.formValidate.drawActivityTimerangeList.length>1?n("Button",{staticStyle:{"margin-left":"5%"},attrs:{type:"error",size:"small"},on:{click:function(n){t.handleRemove(i,e)}}},[t._v("删除")]):t._e()],1)],1)],1)],1)})),n("Button",{staticStyle:{margin:"0 0 10px 613px"},attrs:{type:"success",icon:"md-add"},on:{click:t.handleAdd}},[t._v("新增")]),n("Form-item",{attrs:{label:"开始时间：",required:""}},[n("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择开始日期",format:"yyyy-MM-dd",value:t.formValidate.startDate},on:{"on-change":t.time1,"on-clear":t.clearTime1}})],1),n("Form-item",{attrs:{label:"结束时间：",required:""}},[n("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择结束日期",format:"yyyy-MM-dd",value:t.formValidate.endDate},on:{"on-change":t.time2,"on-clear":t.clearTime2}})],1),n("FormItem",{attrs:{label:"活动限制总量：",required:""}},[n("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入活动限制总量",disabled:""},model:{value:t.formValidate.limitTotal,callback:function(e){t.$set(t.formValidate,"limitTotal",e)},expression:"formValidate.limitTotal"}})],1),n("FormItem",{attrs:{label:"备注："}},[n("Input",{attrs:{placeholder:"请输入备注",clearable:""},model:{value:t.formValidate.remark,callback:function(e){t.$set(t.formValidate,"remark",e)},expression:"formValidate.remark"}})],1),n("FormItem",{attrs:{label:"上传门店列表：",required:""}},[n("Upload",{staticStyle:{display:"inline-block"},attrs:{action:"//jsonplaceholder.typicode.com/posts/","before-upload":t.handleUpload}},[n("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("请上传门店Excel文件")])],1),1!=t.add_edit?n("Button",{staticStyle:{display:"inline-block","margin-left":"15px"},attrs:{icon:"ios-cloud-download-outline"},on:{click:t.downloadStore}},[t._v("导出该活动的门店")]):t._e(),1==t.add_edit?n("span",{staticStyle:{color:"#ffd77a","margin-left":"15px"}},[t._v("上传文件后才能保存")]):t._e()],1)],1),n("Row",{staticStyle:{"margin-left":"575px"}},[n("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v("取消")]),1==t.add_edit?n("Button",{attrs:{type:"primary",disabled:t.isCheckDisabled},on:{click:function(e){t.addLuckyDrawFn()}}},[t._v("保存")]):n("Button",{attrs:{type:"primary"},on:{click:function(e){t.addLuckyDrawFn()}}},[t._v("保存")])],1)],1)],1),n("Modal",{attrs:{title:"查看详情",width:"720","footer-hide":"",closable:!1,"mask-closable":!1},model:{value:t.checkDetailsDisplay,callback:function(e){t.checkDetailsDisplay=e},expression:"checkDetailsDisplay"}},[n("Form",{ref:"checkDetailsData",attrs:{model:t.checkDetailsData,"label-width":120}},[n("Row",[n("FormItem",{attrs:{label:"奖品优惠券活动："}},[n("Button",{attrs:{disabled:""}},[t._v(t._s(t.checkDetailsData.campName))])],1),n("Timeline",{attrs:{pending:""}},t._l(t.checkDetailsData.drawActivityTimerangeList,function(e,i){return n("TimelineItem",{key:i,staticStyle:{padding:"0"}},[n("Row",[n("Col",{attrs:{span:"2"}},[n("p",{staticClass:"time"},[t._v("时间段"+t._s(i+1))])]),n("Col",{attrs:{span:"22"}},[n("Card",[n("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{label:"中奖位置","label-width":70}},[n("Tooltip",{attrs:{trigger:"focus",title:"提醒",content:"限制数量最小为1",placement:"top"}},[n("InputNumber",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入",min:1,disabled:""},model:{value:e.prizeSort,callback:function(n){t.$set(e,"prizeSort",n)},expression:"item.prizeSort"}})],1)],1),n("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{label:"开始时间","label-width":80}},[n("TimePicker",{staticStyle:{width:"120px"},attrs:{format:"HH:mm",placeholder:"请选择时间","disabled-hours":t.disabledTimg1,"disabled-minutes":t.disabledTimg,"disabled-seconds":t.disabledTimg,disabled:""},model:{value:e.timeStart,callback:function(n){t.$set(e,"timeStart",n)},expression:"item.timeStart"}})],1),n("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"5px"},attrs:{label:"结束时间","label-width":80}},[n("TimePicker",{staticStyle:{width:"120px"},attrs:{format:"HH:mm",placeholder:"请选择时间","disabled-hours":t.disabledTimg2,"disabled-minutes":t.disabledTimg,"disabled-seconds":t.disabledTimg,disabled:""},model:{value:e.timeEnd,callback:function(n){t.$set(e,"timeEnd",n)},expression:"item.timeEnd"}})],1)],1)],1)],1)],1)})),n("Form-item",{attrs:{label:"开始时间："}},[n("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择开始日期",format:"yyyy-MM-dd",value:t.checkDetailsData.startDate,disabled:""}})],1),n("Form-item",{attrs:{label:"结束时间："}},[n("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择结束日期",format:"yyyy-MM-dd",value:t.checkDetailsData.endDate,disabled:""}})],1),n("FormItem",{attrs:{label:"活动限制总量："}},[n("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入活动限制总量",disabled:""},model:{value:t.checkDetailsData.limitTotal,callback:function(e){t.$set(t.checkDetailsData,"limitTotal",e)},expression:"checkDetailsData.limitTotal"}})],1),n("FormItem",{attrs:{label:"备注："}},[n("Input",{attrs:{placeholder:"请输入备注",disabled:""},model:{value:t.checkDetailsData.remark,callback:function(e){t.$set(t.checkDetailsData,"remark",e)},expression:"checkDetailsData.remark"}})],1)],1),n("Row",{staticStyle:{"margin-left":"632px"}},[n("Button",{on:{click:function(e){t.checkDetailsDisplay=!1}}},[t._v("关闭")])],1)],1)],1),n("Modal",{attrs:{title:"请选择优惠活动",width:"600","footer-hide":"",closable:!1,"mask-closable":!1},model:{value:t.campaginDisplay,callback:function(e){t.campaginDisplay=e},expression:"campaginDisplay"}},[n("div",{staticStyle:{height:"443px",overflow:"auto"}},[n("Table",{ref:"selection",attrs:{border:"","highlight-row":"",columns:t.columns4,data:t.CampaginList},on:{"on-current-change":t.selectionCampagin}})],1),n("Row",{staticStyle:{margin:"10px 0 0 455px"}},[n("Button",{attrs:{type:"text"},on:{click:function(e){t.campaginDisplay=!1}}},[t._v("取消")]),n("Button",{attrs:{type:"primary"},on:{click:t.closeCampaginDisplay}},[t._v("确认")])],1)],1)],1)},a=[],r=n("6797"),c=n("365c"),o={name:"lucky_draw",data:function(){return{drop:!1,dropDownContent:"展开",dropDownIcon:"ios-arrow-down",columns8:[{title:"操作",align:"center",width:200,fixed:"left",slot:"action"},{title:"活动Id",align:"center",minWidth:140,key:"actId"},{title:"奖品优惠券活动名",align:"center",minWidth:160,key:"campName"},{title:"活动开始时间",align:"center",minWidth:140,key:"startDate"},{title:"活动结束时间",align:"center",minWidth:140,key:"endDate"},{title:"活动限制总量",align:"center",minWidth:140,key:"limitTotal"},{title:"创建人",align:"center",minWidth:140,key:"createBy"},{title:"创建时间",align:"center",minWidth:140,key:"createTime"},{title:"修改人",align:"center",minWidth:140,key:"updateBy"},{title:"修改时间",align:"center",minWidth:140,key:"updateTime"}],columns4:[{title:"优惠活动名称",align:"center",minWidth:140,key:"name"}],LuckyDrawList:[],CampaginList:[],campaginName:"",searchData:{actId:null,campId:null},current:1,totalSize:0,TableLoading:!1,merchantList:[],add_edit:null,modalTitle:"",addStaffDisplay:!1,formValidate:{campId:"",drawActivityTimerangeList:[{prizeSort:1,timeEnd:"",timeStart:""}],endDate:"",limitTotal:null,remark:"",startDate:""},file:null,editActId:"",disabledTimg:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],disabledTimg1:[0,1,2,3,4,5,6,7,8,9,21,22,23],disabledTimg2:[0,1,2,3,4,5,6,7,8,9,10,22,23],uploadList1:[],url:c["g"],userToken:{},editEmployeeId:"",bindData:{employeeId:"",mobile:null,type:""},campaginDisplay:!1,wxQrcodeDisplay:!1,wxQrcode_url:"",isCheckDisabled:!0,checkDetailsDisplay:!1,checkDetailsData:{}}},created:function(){this.getStaffListFn({})},watch:{"formValidate.drawActivityTimerangeList.length":function(t){t&&""!=this.formValidate.endDate&&this.computationTime()},"formValidate.startDate":function(t){t&&""!=this.formValidate.endDate&&this.computationTime()},"formValidate.endDate":function(t){if(t){if(""==this.formValidate.startDate)return void this.msgErr("开始时间未选择,请重新选择结束时间");var e=new Date(this.formValidate.startDate).valueOf(),n=new Date(this.formValidate.endDate).valueOf(),i=n-e,a=i/1e3/60/60/24;if(a<0)return void this.msgErr("结束时间不能小于开始时间,请重新选择结束时间");var r=Math.floor(a)+1;this.formValidate.limitTotal=r*this.formValidate.drawActivityTimerangeList.length}}},methods:{init:function(){},search:function(){this.getStaffListFn(this.searchData)},reset:function(){this.searchData.actId=null,this.searchData.campId=null,this.pagingType="1",this.search()},getStaffListFn:function(t){var e=this;this.TableLoading=!0,Object(r["qb"])(t,this.current).then(function(t){200==t.code?(e.LuckyDrawList=t.data.records,e.current=t.data.current,e.totalSize=t.data.total,e.TableLoading=!1):e.msgErr(t.msg)})},addStaff:function(){this.add_edit=1,this.modalTitle="新增抽奖活动",this.addStaffDisplay=!0},editStaff:function(t){var e=this;Object(r["db"])(t.actId).then(function(t){200==t.code?(e.formValidate=t.data,e.formValidate.delIds=[],e.campaginName=t.data.campName,e.editActId=t.data.actId,e.add_edit=2,e.modalTitle="编辑抽奖活动",e.addStaffDisplay=!0):e.msgErr(t.msg)})},checkDetails:function(t){var e=this;Object(r["db"])(t.actId).then(function(t){200==t.code?(e.checkDetailsData=t.data,e.checkDetailsDisplay=!0):e.msgErr(t.msg)})},getCampaginListFn:function(){var t=this;Object(r["fb"])().then(function(e){if(200==e.code){for(var n=e.data.records,i=0;i<n.length;i++)1==n[i].status&&t.CampaginList.push(n[i]);t.campaginDisplay=!0}else t.msgErr(e.msg)})},selectionCampagin:function(t,e){this.formValidate.campId=t.campId,this.campaginName=t.name,this.msgOk("选择成功")},closeCampaginDisplay:function(){""!=this.formValidate.campId?(this.CampaginList=[],this.campaginDisplay=!1):this.msgErr("还未选择优惠活动")},handleAdd:function(){this.formValidate.drawActivityTimerangeList.push({prizeSort:1,timeEnd:"",timeStart:""})},handleRemove:function(t,e){this.formValidate.drawActivityTimerangeList.splice(t,1),e.id&&this.formValidate.delIds.push(e.id)},handleUpload:function(t){return this.file=t,this.isCheckDisabled=!1,!1},downloadStore:function(){window.location.href=c["a"]+"/draw/activity/download?actId="+this.formValidate.actId},addLuckyDrawFn:function(){var t=this;if(this.ruleValidate()){this.formValidate.delIds&&(this.formValidate.delIds=this.formValidate.delIds.join());var e=new FormData;e.append("requestData",JSON.stringify(this.formValidate)),e.append("file",this.file),1==this.add_edit?Object(r["e"])(e).then(function(e){200==e.code?(t.msgOk("新增成功"),t.getStaffListFn({}),t.cancel()):t.msgErr(e.msg)}):2==this.add_edit&&Object(r["G"])(e,this.editActId).then(function(e){200==e.code?(t.msgOk("编辑成功"),t.getStaffListFn({}),t.cancel()):t.msgErr(e.msg)})}},delLuckyDrawFn:function(t){var e=this;this.$Modal.confirm({title:"删除确认",content:"<p>确认删除当前抽奖活动吗？</p>",onOk:function(){Object(r["v"])(t.actId).then(function(t){200==t.code?(e.msgOk("删除成功"),e.getStaffListFn({})):e.msgErr(t.msg)})},onCancel:function(){}})},cancel:function(){this.addStaffDisplay=!1,this.formValidate.campId="",this.formValidate.delIds&&(this.formValidate.delIds=[]),this.formValidate.drawActivityTimerangeList=[{prizeSort:1,timeEnd:"",timeStart:""}],this.formValidate.endDate="",this.formValidate.limitTotal=null,this.formValidate.remark="",this.formValidate.startDate="",this.campaginName=""},changeCurrent:function(t){this.current=t,this.getStaffListFn(this.searchData)},changeNumber:function(){var t=""+this.searchData.actId;if(-1!=t.indexOf(".")){var e=t.split("");e.splice(e.length-1);var n=e.join("");this.searchData.actId=+n,this.msgErr("不能输入小数点")}},changeNumber1:function(){var t=""+this.searchData.campId;if(-1!=t.indexOf(".")){var e=t.split("");e.splice(e.length-1);var n=e.join("");this.searchData.campId=+n,this.msgErr("不能输入小数点")}},changeNumber2:function(){var t=""+this.bindData.mobile;if(-1!=t.indexOf(".")){var e=t.split("");e.splice(e.length-1);var n=e.join("");this.bindData.mobile=+n,this.msgErr("不能输入小数点")}},ruleValidate:function(){if(""!=this.formValidate.campId){for(var t=0;t<this.formValidate.drawActivityTimerangeList.length;t++){var e=t+1;if(""===this.formValidate.drawActivityTimerangeList[t].prizeSort)return void this.msgErr("时间段"+e+"条限制数量不能为空！");var n=this.formValidate.drawActivityTimerangeList[t].prizeSort+"";if(-1!=n.indexOf("."))return void this.msgErr("时间段"+e+"条的中奖位置不能有小数点！");if(""===this.formValidate.drawActivityTimerangeList[t].timeStart)return void this.msgErr("时间段"+e+"条开始时间不能为空！");if(""===this.formValidate.drawActivityTimerangeList[t].timeEnd)return void this.msgErr("时间段"+e+"条结束时间不能为空！");if(this.formValidate.drawActivityTimerangeList[t].timeStart>this.formValidate.drawActivityTimerangeList[t].timeEnd)return void this.msgErr("时间段"+e+"开始时间不能大于结束时间")}if(""!=this.formValidate.startDate){if(""!=this.formValidate.endDate)return!0;this.msgErr("结束时间还未选择")}else this.msgErr("开始时间还未选择")}else this.msgErr("奖品优惠券活动还未选择")},time1:function(t){if(t){var e=t.slice(0,10)+" 00:00:00";this.formValidate.startDate=e}},clearTime1:function(){this.formValidate.startDate=""},time2:function(t){if(""!=this.formValidate.startDate){if(t){var e=t.slice(0,10)+" 23:59:59";this.formValidate.endDate=e}}else this.msgErr("开始时间未选择")},clearTime2:function(){this.formValidate.endDate=""},computationTime:function(){var t=new Date(this.formValidate.startDate).valueOf(),e=new Date(this.formValidate.endDate).valueOf(),n=e-t,i=n/1e3/60/60/24,a=Math.floor(i)+1;this.formValidate.limitTotal=a*this.formValidate.drawActivityTimerangeList.length},msgOk:function(t){this.$Message.info({content:t,duration:3})},msgErr:function(t){this.$Message.error({content:t,duration:3})},dropDown:function(){this.drop?(this.dropDownContent="展开",this.dropDownIcon="ios-arrow-down"):(this.dropDownContent="收起",this.dropDownIcon="ios-arrow-up"),this.drop=!this.drop}},mounted:function(){this.init()}},s=o,d=(n("736e"),n("2877")),u=Object(d["a"])(s,i,a,!1,null,"1dd4eb99",null);u.options.__file="lucky_draw.vue";e["default"]=u.exports}}]);