(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f1d885ce"],{"0f4e":function(t,e,i){"use strict";var s=i("f1f0"),a=i.n(s);a.a},7599:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("div",{staticStyle:{width:"90%",background:"#fff","box-shadow":"0 6px 6px -4px rgba(0,0,0,.2)","z-index":"5",position:"fixed",padding:"14px"}},[t.couponEdit_info.merchantId?i("Alert",{attrs:{"show-icon":""}},[i("span",[t._v(" \n               商户编号 :\n               "),i("span",{staticStyle:{color:"red"}},[t._v(t._s(t.couponEdit_info.merchantId))])]),t.edit_info.templateId?i("span",{staticStyle:{"margin-left":"20px"}},[t._v(" \n            优惠券模板ID :\n               "),i("span",{staticStyle:{color:"red"}},[t._v(t._s(t.edit_info.templateId))])]):t._e(),i("span",{attrs:{slot:"desc"},slot:"desc"})]):t._e()],1),i("div",{staticStyle:{"padding-top":"100px"}},[i("Card",[i("p",{attrs:{slot:"title"},slot:"title"},[t._v("优惠券模版设置")]),i("a",{attrs:{slot:"extra",href:"#"},slot:"extra"},[i("Button",{attrs:{type:"dashed",icon:"md-arrow-round-back"},on:{click:function(e){return t.goback()}}},[t._v("返回列表")])],1),i("Row",{staticStyle:{"margin-left":"15%"}},[i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("优惠券标题")]),i("Col",{attrs:{span:"16"}},[i("Tooltip",{attrs:{trigger:"focus",title:"提醒",content:"最多10个汉字",placement:"right"}},[i("Input",{staticStyle:{width:"300px"},attrs:{type:"text",placeholder:"请输入优惠券标题",maxlength:10},on:{"on-change":t.statusCheckChange},model:{value:t.edit_info.title,callback:function(e){t.$set(t.edit_info,"title",e)},expression:"edit_info.title"}})],1)],1)],1),i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("优惠类型")]),i("Col",{attrs:{span:"16"}},[i("Select",{staticStyle:{width:"300px"},on:{"on-change":t.statusCheckChange},model:{value:t.edit_info.couponType,callback:function(e){t.$set(t.edit_info,"couponType",e)},expression:"edit_info.couponType"}},[i("Option",{attrs:{value:"1"}},[t._v("固定金额")]),i("Option",{attrs:{value:"2"}},[t._v("折扣")])],1)],1)],1),1==t.edit_info.couponType?i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("金额")]),i("Col",{attrs:{span:"16"}},[i("Tooltip",{attrs:{trigger:"focus",title:"提醒",content:"最多为两位小数点,最大为999999.99",placement:"right"}},[i("InputNumber",{staticStyle:{width:"300px"},attrs:{min:0,type:"text",placeholder:"请输入金额",max:999999.99},model:{value:t.edit_info.ticketMoney,callback:function(e){t.$set(t.edit_info,"ticketMoney",e)},expression:"edit_info.ticketMoney"}}),i("span",{staticStyle:{color:"red"}},[t._v("   元")])],1)],1)],1):t._e(),2==t.edit_info.couponType?i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("折扣")]),i("Col",{attrs:{span:"16"}},[i("Tooltip",{attrs:{trigger:"focus",title:"提醒",content:"最多为一位小数点",placement:"right"}},[i("InputNumber",{staticStyle:{width:"300px"},attrs:{min:0,type:"text",placeholder:"请输入折扣",max:10},model:{value:t.edit_info.ticketDiscount,callback:function(e){t.$set(t.edit_info,"ticketDiscount",e)},expression:"edit_info.ticketDiscount"}}),i("span",{staticStyle:{color:"red"}},[t._v("   折")])],1)],1)],1):t._e(),i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("优惠券种类")]),i("Col",{attrs:{span:"16"}},[i("Select",{staticStyle:{width:"300px"},on:{"on-change":t.statusCheckChange},model:{value:t.edit_info.couponKind,callback:function(e){t.$set(t.edit_info,"couponKind",e)},expression:"edit_info.couponKind"}},[i("Option",{attrs:{value:"1"}},[t._v("免费券")]),i("Option",{attrs:{value:"2"}},[t._v("付费券")])],1)],1)],1),2==t.edit_info.couponKind?i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("购买价格")]),i("Col",{attrs:{span:"16"}},[i("Tooltip",{attrs:{trigger:"focus",title:"提醒",content:"最多为两位小数点,最大为999999.99",placement:"right"}},[i("InputNumber",{staticStyle:{width:"300px"},attrs:{min:0,type:"text",placeholder:"请输入购买价格",max:999999.99},model:{value:t.edit_info.price,callback:function(e){t.$set(t.edit_info,"price",e)},expression:"edit_info.price"}}),i("span",{staticStyle:{color:"red"}},[t._v("   元")])],1)],1)],1):t._e(),i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("活动开始时间")]),i("Col",{attrs:{span:"16"}},[i("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"date",placeholder:"选择活动开始时间"},on:{"on-change":t.statusCheckChange},model:{value:t.edit_info.startDate,callback:function(e){t.$set(t.edit_info,"startDate",e)},expression:"edit_info.startDate"}})],1)],1),i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("活动结束时间")]),i("Col",{attrs:{span:"16"}},[i("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"date",placeholder:"选择活动结束时间"},on:{"on-change":t.statusCheckChange},model:{value:t.edit_info.endDate,callback:function(e){t.$set(t.edit_info,"endDate",e)},expression:"edit_info.endDate"}})],1)],1),i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("用券有效期类型")]),i("Col",{attrs:{span:"16"}},[i("Select",{staticStyle:{width:"300px"},on:{"on-change":t.statusCheckChange},model:{value:t.edit_info.useDateType,callback:function(e){t.$set(t.edit_info,"useDateType",e)},expression:"edit_info.useDateType"}},[i("Option",{attrs:{value:"1"}},[t._v("固定时间范围")]),i("Option",{attrs:{value:"2"}},[t._v("相对有效期")])],1)],1)],1),"1"==t.edit_info.useDateType?i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("用券开始时间")]),i("Col",{attrs:{span:"16"}},[i("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"date",placeholder:"选择用券开始时间"},on:{"on-change":t.statusCheckChange},model:{value:t.edit_info.useStartDate,callback:function(e){t.$set(t.edit_info,"useStartDate",e)},expression:"edit_info.useStartDate"}})],1)],1):t._e(),"1"==t.edit_info.useDateType?i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("用券结束时间")]),i("Col",{attrs:{span:"16"}},[i("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"date",placeholder:"选择用券结束时间"},on:{"on-change":t.statusCheckChange},model:{value:t.edit_info.useEndDate,callback:function(e){t.$set(t.edit_info,"useEndDate",e)},expression:"edit_info.useEndDate"}})],1)],1):t._e(),"2"==t.edit_info.useDateType?i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("加X天开始生效")]),i("Col",{attrs:{span:"16"}},[i("Input",{staticStyle:{width:"300px"},attrs:{type:"text",min:0,placeholder:"请输入加X天开始生效"},model:{value:t.edit_info.addDaysUseStart,callback:function(e){t.$set(t.edit_info,"addDaysUseStart",e)},expression:"edit_info.addDaysUseStart"}}),i("span",{staticStyle:{color:"red"}},[t._v("   天")])],1)],1):t._e(),"2"==t.edit_info.useDateType?i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("加Y天结束用券")]),i("Col",{attrs:{span:"16"}},[i("Input",{staticStyle:{width:"300px"},attrs:{min:0,type:"text",placeholder:"请输入加Y天结束用券"},model:{value:t.edit_info.addDaysUseEnd,callback:function(e){t.$set(t.edit_info,"addDaysUseEnd",e)},expression:"edit_info.addDaysUseEnd"}}),i("span",{staticStyle:{color:"red"}},[t._v("   天")])],1)],1):t._e(),i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 优惠券缩略图")]),i("Col",{attrs:{span:"3"}},[t.imgSrc1?i("div",{staticClass:"imgSrc_box"},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.imgSrc1}})]):t._e()]),i("Col",{attrs:{span:"9"}},[i("div",{staticStyle:{width:"100px",float:"left"}},[i("ImgCutter",{attrs:{label:"选择图片",boxWidth:600,boxHeight:500},on:{cutDown:t.cutDown1}},[i("button",{staticStyle:{width:"100px",background:"border-box"},attrs:{slot:"openImgCutter"},slot:"openImgCutter"},[t._v("上传图片")])])],1),i("br"),i("div",{staticClass:"left-text"},[t._v("选择优惠券缩略图 (不大于1M,JPG/PNG/JPEG/BMP）")])])],1),i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 优惠券详情图")]),i("Col",{attrs:{span:"3"}},[t.imgSrc2?i("div",{staticClass:"imgSrc_box"},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.imgSrc2}})]):t._e()]),i("Col",{attrs:{span:"9"}},[i("div",{staticStyle:{width:"100px",float:"left"}},[i("ImgCutter",{attrs:{label:"选择图片",boxWidth:600,boxHeight:500},on:{cutDown:t.cutDown2}},[i("button",{staticStyle:{width:"100px",background:"border-box"},attrs:{slot:"openImgCutter"},slot:"openImgCutter"},[t._v("上传图片")])])],1),i("br"),i("div",{staticClass:"left-text"},[t._v("选择优惠券缩略图 (不大于1M,JPG/PNG/JPEG/BMP）")])])],1),i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("购买须知")]),i("Col",{attrs:{span:"16"}},[i("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:5}},on:{"on-change":t.statusCheckChange},model:{value:t.edit_info.buyNotes,callback:function(e){t.$set(t.edit_info,"buyNotes",e)},expression:"edit_info.buyNotes"}})],1)],1),i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("券使用说明")]),i("Col",{attrs:{span:"16"}},[i("Tooltip",{attrs:{trigger:"focus",title:"提醒",content:"最多100个汉字",placement:"right"}},[i("Input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},maxlength:100},on:{"on-change":t.statusCheckChange},model:{value:t.edit_info.useDesc,callback:function(e){t.$set(t.edit_info,"useDesc",e)},expression:"edit_info.useDesc"}})],1)],1)],1),i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("用户限领数量")]),i("Col",{attrs:{span:"16"}},[i("Tooltip",{attrs:{trigger:"focus",title:"提醒",content:"最大为2147483647",placement:"right"}},[i("InputNumber",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入用户限领数量(请输入正整数)",min:1,step:1,max:2147483647},model:{value:t.edit_info.getLimit,callback:function(e){t.$set(t.edit_info,"getLimit",e)},expression:"edit_info.getLimit"}}),i("span",{staticStyle:{color:"red"}},[t._v("   张")])],1)],1)],1),i("Row",{staticClass:"box"},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("库存数量")]),i("Col",{attrs:{span:"16"}},[i("Tooltip",{attrs:{trigger:"focus",title:"提醒",content:"最大为2147483647",placement:"right"}},[i("InputNumber",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入库存数量(请输入正整数)",min:1,step:1,max:2147483647},model:{value:t.edit_info.stockCount,callback:function(e){t.$set(t.edit_info,"stockCount",e)},expression:"edit_info.stockCount"}}),i("span",{staticStyle:{color:"red"}},[t._v("   张")])],1)],1)],1),"edit"==t.camp_pageStatus?i("Row",{staticClass:"box",attrs:{required:""}},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("顺序排序")]),i("Col",{attrs:{span:"16"}},[i("Tooltip",{attrs:{trigger:"focus",title:"提醒",content:"最大为999999999",placement:"right"}},[i("Input",{staticStyle:{width:"300px"},attrs:{type:"text",placeholder:"请输入顺序排序",maxlength:9},on:{"on-change":t.statusCheckChange},model:{value:t.edit_info.orderBy,callback:function(e){t.$set(t.edit_info,"orderBy",e)},expression:"edit_info.orderBy"}})],1)],1)],1):t._e(),"edit"==t.camp_pageStatus?i("Row",{staticClass:"box",attrs:{required:""}},[i("Col",{staticClass:"left-text",attrs:{span:"3"}},[t._v("备注")]),i("Col",{attrs:{span:"16"}},[i("Input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:8}},on:{"on-change":t.statusCheckChange},model:{value:t.edit_info.remark,callback:function(e){t.$set(t.edit_info,"remark",e)},expression:"edit_info.remark"}})],1)],1):t._e(),i("Row",{staticStyle:{"{'margin-top'":"'54px'}"}},[1==t.isCheckDisabled?i("Alert",{staticStyle:{width:"500px"},attrs:{type:"warning","show-icon":""}},[t._v("修改后才能保存")]):t._e(),i("Button",{staticStyle:{width:"300px"},attrs:{type:"primary",loading:t.edit_loading,disabled:t.isCheckDisabled},on:{click:function(e){return t.campagin_add()}}},[t._v("保存")])],1)],1)],1)],1)])},a=[],o=i("7f80"),n=i("62a2"),r=i("365c"),d=i("9cd5"),c={name:"BasicSet",components:{ImgCutter:d["a"]},props:{couponEdit_info:Object},data:function(){return{imgSrc1:null,imgSrc2:null,receiveRuleSetPage:!1,visible:!1,imgName:"",edit_info:{startDate:"",endDate:"",useStartDate:"",useEndDate:"",addDaysUseStart:"",addDaysUseEnd:"",ticketMoney:0,price:0,ticketDiscount:0,getLimit:1,stockCount:1},edit_loading:!1,userToken:"",campId:"",imgUrl:"",url:r["g"],uploadList:[],uploadList1:[],camp_pageStatus:"",getUrl:"",msg:"",isCheckDisabled:!1,reqParams:{}}},created:function(){this.userToken={jwttoken:localStorage.getItem("jwttoken")}},methods:{init:function(){this.camp_pageStatus=this.getStore("camp_pageStatus"),this.getCampInfo()},getCampInfo:function(){"add"==this.camp_pageStatus?this.addInfo():"edit"==this.camp_pageStatus&&this.editInfo()},addInfo:function(){this.edit_info={startDate:"",endDate:"",useStartDate:"",useEndDate:"",addDaysUseStart:"",addDaysUseEnd:"",status:"0",orderBy:"9999",ticketMoney:0,price:0,ticketDiscount:0,getLimit:1,stockCount:1}},editInfo:function(){this.edit_info=this.couponEdit_info,this.uploadList=[{url:this.couponEdit_info.couponSmallImg}],this.uploadList1=[{url:this.couponEdit_info.couponBigImg}],this.imgSrc1=this.couponEdit_info.couponSmallImg,this.imgSrc2=this.couponEdit_info.couponBigImg,2==this.edit_info.couponKind?this.edit_info.price=this.couponEdit_info.price/100:this.edit_info.price=0,this.edit_info.ticketMoney=this.couponEdit_info.ticketMoney/100,this.edit_info.ticketDiscount=this.couponEdit_info.ticketDiscount/10,this.edit_info.couponType=1==this.couponEdit_info.couponType?"1":"2",this.edit_info.couponKind=1==this.couponEdit_info.couponKind?"1":"2",this.edit_info.useDateType=1==this.couponEdit_info.useDateType?"1":"2"},statusCheckChange:function(){this.isCheckDisabled=!1},campagin_add:function(){var t=this;if(this.edit_info.title)if(this.edit_info.couponType){if("1"==this.edit_info.couponType){if(!this.edit_info.ticketMoney)return void this.$Message.error("请填写金额");if(!/^\d{1,10}(\.\d{1,2})?$/.test(this.edit_info.ticketMoney))return void this.$Message.error("金额最多为2位小数");var e=100*this.edit_info.ticketMoney;this.edit_info.ticketMoney=e.toFixed(2),this.edit_info.ticketDiscount=""}if("2"==this.edit_info.couponType){if(!this.edit_info.ticketDiscount)return void this.$Message.error("请填写折扣");if(this.edit_info.ticketDiscount>10)return void this.$Message.error("折扣不可大于10.00");if(!/^\d{1,10}(\.\d{1,1})?$/.test(this.edit_info.ticketDiscount))return void this.$Message.error("折扣最多为1位小数");var i=10*this.edit_info.ticketDiscount;this.edit_info.ticketDiscount=i.toFixed(2),this.edit_info.ticketMoney=""}if(this.edit_info.couponKind){if(2==this.edit_info.couponKind){if(!this.edit_info.price)return void this.$Message.error("请填写购买价格");if(!/^\d{1,10}(\.\d{1,2})?$/.test(this.edit_info.price))return void this.$Message.error("购买价格最多为2位小数")}if(""!=this.edit_info.startDate&&""!=this.edit_info.endDate)if((""!=this.edit_info.startDate||""!=this.edit_info.endDate)&&Date.parse(this.edit_info.startDate)>Date.parse(this.edit_info.endDate))this.$Message.error("活动开始时间不能大于活动结束时间");else{this.edit_info.startDate=Object(n["c"])(new Date(this.edit_info.startDate),"yyyy-MM-dd hh:mm:ss"),this.edit_info.endDate=Object(n["c"])(new Date(this.edit_info.endDate),"yyyy-MM-dd");var s=this.edit_info.endDate;if(this.edit_info.endDate=s+" 23:59:59",this.edit_info.useDateType){if("1"==this.edit_info.useDateType){if(""==this.edit_info.useStartDate||""==this.edit_info.useEndDate)return void this.$Message.error("请选择用券开始时间和用券结束时间");if(""!=this.edit_info.useStartDate||""!=this.edit_info.useEndDate){if(Date.parse(this.edit_info.useStartDate)>Date.parse(this.edit_info.useEndDate))return void this.$Message.error("用券开始时间不能大于用券结束时间");var a=Date.parse(this.edit_info.useStartDate)<Date.parse(this.edit_info.startDate),r=Date.parse(this.edit_info.useEndDate)<Date.parse(this.edit_info.endDate);if(a)return void this.$Message.error("用券开始时间不能大于活动开始时间");if(r)return void this.$Message.error("用券结束时间不能小于活动结束时间")}this.edit_info.useStartDate=Object(n["c"])(new Date(this.edit_info.useStartDate),"yyyy-MM-dd hh:mm:ss"),this.edit_info.useEndDate=Object(n["c"])(new Date(this.edit_info.useEndDate),"yyyy-MM-dd");var d=this.edit_info.useEndDate;this.edit_info.useEndDate=d+" 23:59:59"}if("2"==this.edit_info.useDateType){if(this.edit_info.useStartDate="",this.edit_info.useEndDate="",""==this.edit_info.addDaysUseStart&&0!=this.edit_info.addDaysUseStart)return void this.$Message.error("请填写加X天开始生效");if(""==this.edit_info.addDaysUseEnd&&0!=this.edit_info.addDaysUseEnd)return void this.$Message.error("请填写加Y天结束用券");if(this.edit_info.addDaysUseStart>this.edit_info.addDaysUseEnd)return void this.$Message.error("'加X天开始生效'不能大于'加Y天结束用券'");if(0!=this.edit_info.addDaysUseStart&&!/^[1-9]\d*$/.test(this.edit_info.addDaysUseStart))return void this.$Message.error("加X天开始生效请输入正整数");if(0!=this.edit_info.addDaysUseEnd&&!/^[1-9]\d*$/.test(this.edit_info.addDaysUseEnd))return void this.$Message.error("加Y天结束用券请输入正整数")}if(this.edit_info.couponSmallImg)if(this.edit_info.couponBigImg)if(this.edit_info.useDesc)if(this.edit_info.getLimit)if(/^[1-9]\d*$/.test(this.edit_info.getLimit))if(this.edit_info.stockCount)if(/^[1-9]\d*$/.test(this.edit_info.stockCount))if(this.edit_info.getLimit>this.edit_info.stockCount)this.$Message.error("'用户限领数量' 不能大于'库存数量'");else{if("edit"==this.camp_pageStatus){if(!this.edit_info.orderBy)return void this.$Message.error("请填写顺序排序");if(0!=this.edit_info.orderBy&&!/^[1-9]\d*$/.test(this.edit_info.orderBy))return void this.$Message.error("顺序排序请输入正整数")}this.reqParams={title:this.edit_info.title,couponType:this.edit_info.couponType,ticketMoney:this.edit_info.ticketMoney,ticketDiscount:this.edit_info.ticketDiscount,couponKind:this.edit_info.couponKind,price:this.edit_info.price,label:this.edit_info.label,startDate:this.edit_info.startDate,endDate:this.edit_info.endDate,useDateType:this.edit_info.useDateType,useStartDate:this.edit_info.useStartDate,useEndDate:this.edit_info.useEndDate,addDaysUseStart:this.edit_info.addDaysUseStart,addDaysUseEnd:this.edit_info.addDaysUseEnd,couponSmallImg:this.edit_info.couponSmallImg,couponBigImg:this.edit_info.couponBigImg,buyNotes:this.edit_info.buyNotes,useDesc:this.edit_info.useDesc,getLimit:this.edit_info.getLimit,stockCount:this.edit_info.stockCount,status:this.edit_info.status,remark:this.edit_info.remark,merchantId:this.couponEdit_info.merchantId,orderBy:this.edit_info.orderBy},"add"===this.camp_pageStatus?(this.getUrl="/merchantCouponTemplate/add",this.msg="新增成功"):(this.getUrl="/merchantCouponTemplate/edit/"+this.edit_info.templateId,this.msg="编辑成功",this.reqParams.templateId=this.edit_info.templateId),this.edit_loading=!0,console.log(JSON.stringify(this.reqParams)),Object(o["g"])(this.getUrl,this.reqParams).then(function(e){t.edit_loading=!1,200==e.code?(t.$Message.info(t.msg),setTimeout(function(){t.goback()},1200)):t.$Message.error(e.msg)})}else this.$Message.error("库存数量请输入正整数");else this.$Message.error("请填写库存数量");else this.$Message.error("用户限领数量输入正整数");else this.$Message.error("请填写用户限领数量");else this.$Message.error("请填写券使用说明");else this.$Message.error("请上传优惠券详情图");else this.$Message.error("请上传优惠券缩略图")}else this.$Message.error("请选择用券有效期类型")}else this.$Message.error("请选择活动开始时间和活动结束时间")}else this.$Message.error("请选择优惠券种类")}else this.$Message.error("请选择优惠类型");else this.$Message.error("请填写优惠券标题")},goback:function(){this.$emit("changeStatus",!1)},cutDown1:function(t){var e=this;this.imgSrc1=t.dataURL;var i={imgStr:t.dataURL.substr(22)};Object(o["j"])("/operation/operation-info/uploadBase64Image2AliOss",i).then(function(t){200==t.code?e.edit_info.couponSmallImg=t.image_url:e.$Message.error(t.msg)})},cutDown2:function(t){var e=this;this.imgSrc2=t.dataURL;var i={imgStr:t.dataURL.substr(22)};Object(o["j"])("/operation/operation-info/uploadBase64Image2AliOss",i).then(function(t){200==t.code?e.edit_info.couponBigImg=t.image_url:e.$Message.error(t.msg)})}},mounted:function(){this.init()}},l=c,p=(i("0f4e"),i("6691")),f=Object(p["a"])(l,s,a,!1,null,null,null);e["default"]=f.exports},f1f0:function(t,e,i){}}]);