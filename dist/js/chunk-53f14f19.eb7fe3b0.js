(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53f14f19"],{"158d":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"search"},[o("Row",[o("Col",[o("Card",[o("Row",[o("Form",{ref:"searchItem",staticClass:"search-form",attrs:{model:t.searchItem,inline:"","label-width":70}},[o("FormItem",{attrs:{label:"岗位编码"}},[o("Input",{staticStyle:{width:"200px"},attrs:{type:"text",clearable:"",placeholder:"请输入岗位编码"},model:{value:t.searchItem.code,callback:function(e){t.$set(t.searchItem,"code",e)},expression:"searchItem.code"}})],1),t.drop?o("span",[o("FormItem",{attrs:{label:"岗位名称"}},[o("Input",{staticStyle:{width:"200px"},attrs:{type:"text",clearable:"",placeholder:"请输入岗位名称"},model:{value:t.searchItem.name,callback:function(e){t.$set(t.searchItem,"name",e)},expression:"searchItem.name"}})],1),o("FormItem",{attrs:{label:"岗位状态"}},[o("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",clearable:""},model:{value:t.searchItem.status,callback:function(e){t.$set(t.searchItem,"status",e)},expression:"searchItem.status"}},[o("Option",{attrs:{value:""}},[t._v("所有")]),o("Option",{attrs:{value:"0"}},[t._v("正常")]),o("Option",{attrs:{value:"1"}},[t._v("停用")])],1)],1)],1):t._e(),o("FormItem",{staticClass:"br",staticStyle:{"margin-left":"-35px"}},[o("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.queryTableList}},[t._v("搜索")]),o("Button",{on:{click:t.refresh}},[t._v("重置")]),o("a",{staticClass:"drop-down",on:{click:t.dropDown}},[t._v("\n                "+t._s(t.dropDownContent)+"\n                "),o("Icon",{attrs:{type:t.dropDownIcon}})],1)],1)],1)],1)],1),o("Card",[o("Row",{staticClass:"operation"},[o("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:function(e){return t.addInfo()}}},[t._v("新增")]),o("Button",{attrs:{icon:"md-refresh"},on:{click:t.queryTableList}},[t._v("刷新")])],1),o("Row",[o("Table",{ref:"table",attrs:{loading:t.TableLoading,border:"",columns:t.tableColumns,data:t.table_list,sortable:"custom"}})],1),o("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[o("Page",{staticStyle:{float:"right"},attrs:{total:t.totalSize,"show-total":"","show-elevator":"",current:t.current},on:{"on-change":t.changeCurrent,"update:current":function(e){t.current=e}}})],1)],1)],1)],1),o("Modal",{attrs:{width:"700",title:t.title,"mask-closable":!1},model:{value:t.edit_Modal_show,callback:function(e){t.edit_Modal_show=e},expression:"edit_Modal_show"}},[o("Form",{ref:"edit_info",attrs:{model:t.edit_info,"label-width":80,rules:t.ruleValidate}},[o("FormItem",{attrs:{label:"岗位名称",prop:"postName"}},[o("Input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.edit_info.postName,callback:function(e){t.$set(t.edit_info,"postName",e)},expression:"edit_info.postName"}})],1),o("FormItem",{attrs:{label:"岗位编码",prop:"postCode"}},[o("Input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.edit_info.postCode,callback:function(e){t.$set(t.edit_info,"postCode",e)},expression:"edit_info.postCode"}})],1),o("FormItem",{attrs:{label:"显示顺序",required:""}},[o("InputNumber",{staticStyle:{width:"100%"},attrs:{max:99999,min:0,placeholder:"请输入",clearable:""},model:{value:t.edit_info.postSort,callback:function(e){t.$set(t.edit_info,"postSort",e)},expression:"edit_info.postSort"}})],1),o("FormItem",{attrs:{label:"岗位状态",prop:"status"}},[o("Select",{model:{value:t.edit_info.status,callback:function(e){t.$set(t.edit_info,"status",e)},expression:"edit_info.status"}},[o("Option",{attrs:{value:"0"}},[t._v("正常")]),o("Option",{attrs:{value:"1"}},[t._v("停用")])],1)],1),o("FormItem",{attrs:{label:"备注"}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入...",clearable:""},model:{value:t.edit_info.remark,callback:function(e){t.$set(t.edit_info,"remark",e)},expression:"edit_info.remark"}})],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"text"},on:{click:function(e){t.edit_Modal_show=!1}}},[t._v("取消")]),o("Button",{attrs:{type:"primary",loading:t.edit_loading},on:{click:function(e){return t.editOk("edit_info")}}},[t._v("保存")])],1)],1)],1)},a=[],i=o("7f80"),r={name:"post-manage",components:{},data:function(){var t=this;return{drop:!1,dropDownContent:"展开",dropDownIcon:"ios-arrow-down",searchItem:{name:"",type:"",status:"",startDate:"",endDate:""},current:1,totalSize:0,pageNum:1,limit:10,TableLoading:!1,table_list:[],self:this,tableColumns:[{title:"岗位编号",key:"postId",width:100,align:"center"},{title:"岗位编码",key:"postCode",width:150,align:"center",sortable:!0},{title:"岗位名称",key:"postName",width:100,align:"center"},{title:"显示顺序",key:"postSort",width:150,align:"center",sortable:!0},{title:"状态",key:"status",align:"center",width:100,render:function(t,e){var o=e.row,s="1"===o.status?"red":"blue",a="1"===o.status?"停用":"正常";return t("Tag",{props:{color:s}},a)}},{title:"创建人",key:"createBy",width:100,align:"center"},{title:"创建时间",key:"createTime",width:200,align:"center",sortable:!0},{title:"编辑人",key:"updateBy",width:100,align:"center"},{title:"编辑时间",key:"updateTime",width:200,align:"center",sortable:!0},{title:"操作",key:"action",fixed:"left",align:"center",width:200,render:function(e,o){return e("div",[e("Button",{props:{type:"text",size:"small"},style:{color:"#5cadff"},on:{click:function(){t.editInfo(o.row)}}},"编辑"),e("Button",{props:{type:"text",size:"small"},style:{color:"#ff3300"},on:{click:function(){t.removeInfo(o.row)}}},"删除")])}}],edit_Modal_show:!1,edit_info:{postId:"",postName:"",postCode:"",status:"",remark:"",postSort:null},edit_loading:!1,ruleValidate:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"显示顺序不能为空",trigger:"blur"}],status:[{required:!0,message:"请选择岗位状态",trigger:"change"}]},requestUrl:"",msg:"",title:""}},created:function(){},methods:{init:function(){this.updateTableList()},dropDown:function(){this.drop?(this.dropDownContent="展开",this.dropDownIcon="ios-arrow-down"):(this.dropDownContent="收起",this.dropDownIcon="ios-arrow-up"),this.drop=!this.drop},refresh:function(){this.searchItem.name="",this.searchItem.code="",this.searchItem.status="",this.updateTableList()},queryTableList:function(){this.updateTableList()},changeCurrent:function(t){this.pageNum=t,this.updateTableList()},updateTableList:function(){var t=this;this.TableLoading=!0;var e={postName:this.searchItem.name,postCode:this.searchItem.code,status:this.searchItem.status};Object(i["g"])("/system/sys-post/list?pageNum="+this.pageNum+"&pageSize="+this.limit,e).then(function(e){t.TableLoading=!1,e.isSuccess?(t.totalSize=e.data.total,t.table_list=e.data.records):t.$Message.error(e.msg)})},addInfo:function(){this.edit_info={postId:"",postName:"",postCode:"",status:"0",remark:"",postSort:null},this.edit_Modal_show=!0,this.title="岗位管理新增"},editInfo:function(t){this.edit_Modal_show=!0,this.edit_info=t,this.title="岗位管理编辑"},editOk:function(t){var e=this;this.$refs[t].validate(function(t){if(t){if(""==e.edit_info.postSort)return void e.$Message.error("显示顺序不能为空");e.edit_info.postId?(e.requestUrl="/system/sys-post/edit",e.msg="编辑成功"):(e.requestUrl="/system/sys-post/add",e.msg="新增成功"),e.edit_loading=!0;var o={postId:e.edit_info.postId,postName:e.edit_info.postName,postCode:e.edit_info.postCode,status:e.edit_info.status,remark:e.edit_info.remark,postSort:e.edit_info.postSort};Object(i["g"])(e.requestUrl,o).then(function(t){e.edit_loading=!1,200==t.code?(e.$Message.info(e.msg),setTimeout(function(){e.edit_Modal_show=!1,e.updateTableList()},1200)):e.$Message.error(t.msg)})}else e.$Message.error("表单验证失败!")})},removeInfo:function(t){var e=this;this.$Modal.confirm({title:"删除确认",content:"删除后不可恢复，是否继续删除？",onOk:function(){e.$Loading.start(),Object(i["g"])("/system/sys-post/delete?postId="+t.postId).then(function(t){e.loading=!1,"200"==t.code?(e.$Message.info("删除成功！"),setTimeout(function(){e.pageNum=1,e.updateTableList()},1200)):e.$Message.error(t.msg)})},onCancel:function(){e.$Message.info("点击了取消")}})}},mounted:function(){this.init()}},n=r,l=(o("88a5"),o("6691")),d=Object(l["a"])(n,s,a,!1,null,"44f2e5c5",null);e["default"]=d.exports},"88a5":function(t,e,o){"use strict";var s=o("9d09"),a=o.n(s);a.a},"9d09":function(t,e,o){}}]);