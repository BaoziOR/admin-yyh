(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd5e8"],{"2c67":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{width:"800",title:"品牌选择",closable:!1,"mask-closable":!1,"footer-hide":""},model:{value:t.viewDialogVisible,callback:function(e){t.viewDialogVisible=e},expression:"viewDialogVisible"}},[a("div",[a("div",[a("Card",{staticStyle:{"margin-bottom":"2px"},attrs:{bordered:!1}},[a("Form",{ref:"brandForm",attrs:{"label-position":"right","label-width":80,model:t.brandForm,inline:""}},[a("FormItem",{staticStyle:{width:"25%"},attrs:{label:"品牌名称",span:"24"}},[a("Input",{attrs:{placeholder:" 请填写品牌名称",maxlength:20},model:{value:t.brandForm.name,callback:function(e){t.$set(t.brandForm,"name",e)},expression:"brandForm.name"}})],1),a("FormItem",{staticStyle:{float:"right"},attrs:{span:"24","label-width":1}},[a("Button",{staticClass:"submit",staticStyle:{"margin-right":"5px"},attrs:{type:"primary",icon:"ios-search"},on:{click:function(e){return t.search("searchForm")}}},[t._v("搜索")]),a("Button",{attrs:{icon:"md-refresh"},on:{click:t.reset}},[t._v("重置")])],1)],1)],1),a("Row",[a("RadioGroup",{staticStyle:{width:"100%"},on:{"on-change":t.selectBusiness},model:{value:t.selectIndex,callback:function(e){t.selectIndex=e},expression:"selectIndex"}},[a("Table",{ref:"table",attrs:{loading:t.TableLoading,border:"",columns:t.tableColumns,data:t.listData,sortable:"custom"},on:{"on-selection-change":t.handleSelect},scopedSlots:t._u([{key:"action",fn:function(t){t.row;var e=t.index;return[a("Radio",{attrs:{label:e}},[a("span")])]}},{key:"activeTime",fn:function(e){var n=e.row;return[a("div",[t._v(t._s(n.activeTime))])]}}])})],1)],1),a("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[a("Page",{staticStyle:{float:"right"},attrs:{total:t.totalSize,"show-total":"","show-elevator":"",current:t.current},on:{"on-change":t.changeCurrent,"update:current":function(e){t.current=e}}})],1)],1)]),a("div",{staticStyle:{"text-align":"center",margin:"10px"}},[a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:t.brandSave}},[t._v("保存")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.brandClose}},[t._v("关闭")])],1)])},i=[],s=a("7f80"),o={name:"brandModal",props:{viewDialogVisible:{type:Boolean,default:!1}},data:function(){return{TableLoading:"",brandForm:{name:"",current:1},totalSize:0,current:1,selectIndex:"",selectRow:{},tableColumns:[{title:"操作",width:200,align:"center",slot:"action",fixed:"left"},{title:"品牌名称",key:"name",align:"center"}],listData:[],selectDataList:[]}},methods:{resetRow:function(t){this.selectRow=t,this.loadTableData()},search:function(){this.loadTableData()},reset:function(){this.brandForm.current=1,this.brandForm.name=""},handleSelect:function(t,e){this.selectDataList=t},changeCurrent:function(t){this.brandForm.current!=t&&(this.brandForm.current=t,this.loadTableData())},selectBusiness:function(){console.log(this.selectIndex),this.selectRow=this.listData[this.selectIndex]},brandClose:function(){this.$emit("setViewDialogVisible",this.selectRow)},brandSave:function(){this.selectIndex||0===this.selectIndex?this.$emit("setViewDialogVisible",this.selectRow):this.$Message.error("请选择品牌")},loadTableData:function(){var t=this,e=this;this.TableLoading=!0,this.selectIndex="",Object(s["g"])("/merchant/brandMain/list?pageNum=".concat(this.brandForm.current,"&pageSize=10"),{name:this.brandForm.name,pageNum:this.current,pageSize:10}).then(function(a){t.TableLoading=!1,"200"===a.code?(t.totalSize=a.data.total,t.listData=a.data.records,t.selectRow.id&&a.data.records.forEach(function(t,a){console.log(111),t.id===e.selectRow.id&&(e.selectIndex=a)})):t.$Message.error("获取数据失败")})}},created:function(){}},l=o,r=a("6691"),c=Object(r["a"])(l,n,i,!1,null,"46034ace",null);e["default"]=c.exports}}]);