(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65a27e77","chunk-7db5c303","chunk-03ba1e69"],{"00ff":function(e,t,a){},"0221":function(e,t,a){"use strict";var i=a("00ff"),n=a.n(i);n.a},"0579":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"coupon-list-box"},[a("Modal",{attrs:{title:"优惠券列表",width:"900","footer-hide":"",closable:!0,"mask-closable":!1,styles:{top:"20px"}},on:{"on-cancel":e.closeDialog},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[a("div",[a("row",[a("Form",{ref:"searchItem",staticClass:"search-form",attrs:{model:e.searchItem,inline:"","label-width":100}},[a("FormItem",{attrs:{label:"商户名称："}},[a("Input",{staticStyle:{width:"150px"},attrs:{type:"text",clearable:"",placeholder:"请输入商户名称："},model:{value:e.searchItem.merchantName,callback:function(t){e.$set(e.searchItem,"merchantName",t)},expression:"searchItem.merchantName"}})],1),a("FormItem",{attrs:{label:"优惠券名称："}},[a("Input",{staticStyle:{width:"150px"},attrs:{type:"text",clearable:"",placeholder:"请输入优惠券名称"},model:{value:e.searchItem.couponName,callback:function(t){e.$set(e.searchItem,"couponName",t)},expression:"searchItem.couponName"}})],1),a("FormItem",{attrs:{label:"所在地区"}},[a("Select",{staticStyle:{width:"150px"},attrs:{clearable:""},on:{"on-change":e.getcitylist},model:{value:e.searchItem.provinceId,callback:function(t){e.$set(e.searchItem,"provinceId",t)},expression:"searchItem.provinceId"}},e._l(e.provincelist,function(t,i){return a("Option",{key:i,attrs:{value:t.provinceCode}},[e._v(e._s(t.provinceName))])}),1),a("Select",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.searchItem.cityId,callback:function(t){e.$set(e.searchItem,"cityId",t)},expression:"searchItem.cityId"}},e._l(e.citylist,function(t,i){return a("Option",{key:i,attrs:{value:t.cityCode}},[e._v(e._s(t.cityName))])}),1)],1),a("FormItem",{staticClass:"br",staticStyle:{"margin-left":"-35px"}},[a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.search}},[e._v("搜索")]),a("Button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1),a("Table",{ref:"selection",staticClass:"bussiness-list",attrs:{border:"",size:"small",columns:e.tableColumns,data:e.tableData,loading:e.tableLoading}}),a("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[a("Page",{attrs:{"show-total":"","show-elevator":"",current:e.page.page,"page-size":e.page.size,total:e.page.total},on:{"on-change":e.changeCurrent}})],1)],1),a("Row",{staticStyle:{"margin-left":"350px","margin-top":"30px"}},[a("Button",{staticStyle:{"margin-right":"20px"},on:{click:e.cancel}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.selectMerchant}},[e._v("确定")])],1)],1)],1)},n=[],s=a("7f80");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach(function(t){o(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l={name:"coupon-list",data:function(){var e=this;return{isShow:!0,choice:{_id:"",id:"",name:""},edit_loading:!1,isCheckDisabled:!1,checkResult:0,tableColumns:[{title:"序号",type:"index",width:70,align:"center"},{title:"选择",key:"_id",width:70,align:"center",render:function(t,a){var i=a.row,n=i._id,s=i.templateId,r=i.title,c=!1;c=e.choice._id==n;var o=e;return t("div",[t("Radio",{props:{value:c},on:{"on-change":function(){console.log("change",a.row),o.choice._id=n,o.choice.id=s,o.choice.name=r,o.choice.row=a.row}}})])}},{title:"商户名称",align:"center",minWidth:130,key:"merchantName"},{title:"省/市",align:"center",width:150,key:"address",render:function(e,t){var a=t.row,i=a.province,n=a.city,s="".concat(i,"/").concat(n);return e("span",s)}},{title:"优惠券名称",align:"center",width:230,key:"title"},{title:"有效期",align:"center",width:180,key:"time",render:function(e,t){var a=t.row,i=a.useStartTime,n=a.useEndTime,s="-";return i&&n&&(s="".concat(i,"-").concat(n)),e("span",s)}}],tableData:[],page:{page:1,size:10,total:0},tableLoading:!1,searchItem:{merchantName:"",couponName:"",provinceId:"",cityId:""},provincelist:[],citylist:[],selectedMerchantList:[]}},methods:{getprovincelist:function(){var e=this;Object(s["g"])("/system/area/province/list").then(function(t){200==t.code?e.provincelist=t.data:e.$Message.error(t.msg)})},getcitylist:function(){var e=this;Object(s["c"])("/system/area/city/"+this.searchItem.provinceId).then(function(t){200==t.code?e.citylist=t.data:e.$Message.error(t.msg)})},cancel:function(){this.closeDialog()},search:function(){this.queryTableData()},queryTableData:function(e){var t=this;this.page.page=e||1,this.tableLoading=!1;var a=c({couponName:this.searchItem.couponName,merchantName:this.searchItem.merchantName,provinceCode:this.searchItem.provinceId,cityCode:this.searchItem.cityId},this.page);Object(s["g"])("/coupon/merchant/list",a).then(function(e){var a=e.code,i=e.data,n=i.current,s=i.total,r=i.size,c=i.records,o=e.msg;200==a?(t.tableData=c.map(function(e){return e._id=Math.random(),e}),t.page.page=n,t.page.total=s,t.page.size=r):t.msgErr(o),t.tableLoading=!1})},closeDialog:function(){this.$emit("update:showCouponList",!1)},selectMerchant:function(){this.choice.id?(this.$emit("seclectedTr-event",this.choice),this.closeDialog()):this.msgErr("至少选一个优惠券")},reset:function(){this.searchItem={merchantName:"",couponName:"",provinceId:"",cityId:""},this.page={page:1,size:10,total:0},this.queryTableData()},changeCurrent:function(e){this.queryTableData(e)},msgOk:function(e){this.$Message.info({content:e,duration:3})},msgErr:function(e){this.$Message.error({content:e,duration:3})}},mounted:function(){this.queryTableData(),this.getprovincelist()}},h=l,u=(a("0221"),a("b0e3"),a("6691")),m=Object(u["a"])(h,i,n,!1,null,"577c9b42",null);t["default"]=m.exports},"25eb":function(e,t,a){},"511f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bussiness-list-box"},[a("Modal",{attrs:{title:"商户列表",width:"900","footer-hide":"",closable:!0,"mask-closable":!1,styles:{top:"20px"}},on:{"on-cancel":e.closeDialog},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[a("div",[a("row",[a("Form",{ref:"searchItem",staticClass:"search-form",attrs:{model:e.searchItem,inline:"","label-width":70}},[a("FormItem",{attrs:{label:"商户编号"}},[a("Input",{staticStyle:{width:"150px"},attrs:{type:"text",clearable:"",placeholder:"请输入商户编号"},model:{value:e.searchItem.merchantId,callback:function(t){e.$set(e.searchItem,"merchantId",t)},expression:"searchItem.merchantId"}})],1),a("FormItem",{attrs:{label:"商户名称"}},[a("Input",{staticStyle:{width:"150px"},attrs:{type:"text",clearable:"",placeholder:"请输入商户名称"},model:{value:e.searchItem.name,callback:function(t){e.$set(e.searchItem,"name",t)},expression:"searchItem.name"}})],1),a("FormItem",{attrs:{label:"所在地区"}},[a("Select",{staticStyle:{width:"150px"},attrs:{clearable:""},on:{"on-change":e.getcitylist},model:{value:e.searchItem.provinceId,callback:function(t){e.$set(e.searchItem,"provinceId",t)},expression:"searchItem.provinceId"}},e._l(e.provincelist,function(t,i){return a("Option",{key:i,attrs:{value:t.provinceCode}},[e._v(e._s(t.provinceName))])}),1),a("Select",{staticStyle:{width:"150px"},attrs:{clearable:""},on:{"on-change":e.getarealist},model:{value:e.searchItem.cityId,callback:function(t){e.$set(e.searchItem,"cityId",t)},expression:"searchItem.cityId"}},e._l(e.citylist,function(t,i){return a("Option",{key:i,attrs:{value:t.cityCode}},[e._v(e._s(t.cityName))])}),1),a("Select",{staticStyle:{width:"150px"},attrs:{clearable:""},model:{value:e.searchItem.areaId,callback:function(t){e.$set(e.searchItem,"areaId",t)},expression:"searchItem.areaId"}},e._l(e.arealist,function(t,i){return a("Option",{key:i,attrs:{value:t.areaCode}},[e._v(e._s(t.areaName))])}),1)],1),a("FormItem",{staticClass:"br",staticStyle:{"margin-left":"-35px"}},[a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.search}},[e._v("搜索")]),a("Button",{on:{click:e.refresh}},[e._v("重置")])],1)],1)],1),a("Table",{ref:"selection",staticClass:"bussiness-list",attrs:{border:"",size:"small",columns:e.tableColumns,data:e.tableData,loading:e.tableLoading}}),a("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[a("Page",{staticStyle:{float:"right"},attrs:{total:e.totalSize,"show-total":"","show-elevator":"",current:e.current},on:{"on-change":e.changeCurrent,"update:current":function(t){e.current=t}}})],1)],1),a("Row",{staticStyle:{"margin-left":"350px","margin-top":"30px"}},[a("Button",{staticStyle:{"margin-right":"20px"},on:{click:e.cancel}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.selectMerchant}},[e._v("确定")])],1)],1)],1)},n=[],s=(a("6797"),a("7f80")),r=(a("62a2"),{name:"business-list",props:{employeeId:String},data:function(){var e=this;return{isShow:!0,choice:{id:"",name:""},edit_loading:!1,isCheckDisabled:!1,checkResult:0,tableColumns:[{title:"序号",type:"index",width:80,align:"center"},{title:"选择",key:"merchantId",width:70,align:"center",render:function(t,a){var i=a.row.merchantId,n=a.row.name,s=!1;s=e.choice.id==i;var r=e;return t("div",[t("Radio",{props:{value:s},on:{"on-change":function(){console.log("change",a.row),r.choice.id=i,r.choice.name=n,r.choice.row=a.row}}})])}},{title:"商户编号",align:"center",minWidth:130,key:"merchantId"},{title:"商户名称",align:"center",width:230,key:"name"},{title:"所属地区",align:"center",width:340,key:"address",render:function(e,t){var a=t.row.province+t.row.city+t.row.district+t.row.address;return e("span",a)}}],tableData:[],current:1,totalSize:0,pageNum:1,tableLoading:!1,searchItem:{merchantId:"",name:"",provinceId:"",cityId:"",areaId:""},provincelist:[],citylist:[],arealist:[],selectedMerchantList:[],removeAlert:!1}},methods:{getprovincelist:function(){var e=this;Object(s["g"])("/system/area/province/list").then(function(t){200==t.code?e.provincelist=t.data:e.$Message.error(t.msg)})},getcitylist:function(){var e=this;Object(s["c"])("/system/area/city/"+this.searchItem.provinceId).then(function(t){200==t.code?(e.citylist=t.data,e.searchItem.areaId=""):e.$Message.error(t.msg)})},getarealist:function(){var e=this;Object(s["c"])("/system/area/district/"+this.searchItem.cityId).then(function(t){200==t.code?e.arealist=t.data:e.$Message.error(t.msg)})},cancel:function(){this.closeDialog()},search:function(){this.current=1,this.totalSize=0,this.pageNum=1,this.queryTableData()},queryTableData:function(){var e=this;this.tableLoading=!1;var t={merchantId:this.searchItem.merchantId,name:this.searchItem.name,provinceCode:this.searchItem.provinceId,cityCode:this.searchItem.cityId,areaCode:this.searchItem.areaId};Object(s["g"])("/merchant/merchantInfo/list?isAsc=DESC&orderByColumn=1&pageNum="+this.pageNum+"&pageSize=10",t).then(function(t){200==t.code?(e.totalSize=t.data.total,e.tableData=t.data.records):e.msgErr(t.msg),e.tableLoading=!1})},closeDialog:function(){console.log("closeDialog showBusinessList"),this.$emit("update:showBusinessList",!1)},selectMerchant:function(){this.choice.id?(this.$emit("seclectedTr-event",this.choice),this.closeDialog()):this.msgErr("至少选一个商户")},refresh:function(){this.searchItem.merchantId="",this.searchItem.name="",this.searchItem.provinceId="",this.searchItem.cityId="",this.searchItem.areaId="",this.queryTableData()},changeCurrent:function(e){this.pageNum=e,this.queryTableData()},msgOk:function(e){this.$Message.info({content:e,duration:3})},msgErr:function(e){this.$Message.error({content:e,duration:3})}},mounted:function(){this.queryTableData(),this.getprovincelist()}}),c=r,o=(a("9d1b"),a("a01d"),a("6691")),l=Object(o["a"])(c,i,n,!1,null,"76549ab3",null);t["default"]=l.exports},"58f6":function(e,t,a){"use strict";var i=a("ed70"),n=a.n(i);n.a},"591f":function(e,t,a){},"91aa":function(e,t,a){},"9b2d":function(e,t,a){},"9d1b":function(e,t,a){"use strict";var i=a("25eb"),n=a.n(i);n.a},a01d:function(e,t,a){"use strict";var i=a("91aa"),n=a.n(i);n.a},a298:function(e,t,a){"use strict";var i=a("ef66"),n=a.n(i);n.a},ae1d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Alert",[a("div",{staticClass:"item"},[a("span",{staticClass:"fl label"},[e._v("商户类型：")]),a("span",{staticClass:"fl"},[e._v(e._s(e.item.merchantTypeName))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"fl label"},[e._v("商户名称：")]),a("span",{staticClass:"fl"},[e._v(e._s(e.item.name))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"fl label"},[e._v("消耗U贝：")]),a("span",{staticClass:"fl"},[e._v(e._s(e.item.anticipatedUbay))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"fl label"},[e._v("优惠券：")]),a("span",{staticClass:"fl"},[e._v(e._s(e.item.templateName))])]),a("div",{staticClass:"item"},[a("span",{staticClass:"fl label"},[e._v("截止时间：")]),a("span",{staticClass:"fl"},[e._v(e._s(e.item.endTime)+" 领取量低于"+e._s(e.item.receivedNum)+"任务自动终止")])]),a("Divider"),a("div",[e._v("\n      每领取一张券，奖励领取者\n      "+e._s(e.item.receiveAwardUbay)+" U贝  通过分享领取不享受该奖励\n    ")]),a("div",[e._v("\n      每核销一张券，奖励领取者 "+e._s(e.item.useAwardUbay)+"\n       U贝   通过分享领取核销，不享受该奖励\n    ")]),a("Divider"),a("div",[e._v("\n      分享券被领取，奖励分享者 "+e._s(e.item.shareReceiveAwardUbay)+"\n       U贝\n    ")]),a("div",[e._v("\n      分享券被核销，奖励分享者 "+e._s(e.item.shareUseAwardUbay)+"\n       U贝\n    ")])],1)],1)},n=[],s=a("511f"),r=a("fae5"),c=a("0579");function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l={name:"rules-item",components:{BusinessList:s["default"],BrandList:r["default"],CouponList:c["default"]},props:{index:{type:Number,default:0},item:{type:Object,default:function(){return{merchantType:0,merchantId:"",merhcantName:"",brandId:"",brandName:"",anticipatedUbay:"",templateId:"",templateName:"",endTime:"",receivedNum:"",receiveAwardUbay:"",useAwardUbay:"",shareReceiveAwardUbay:"",shareUseAwardUbay:""}}}},computed:{dynamicColumns:function(){return 0==this.item.merchantType?this.columns1:this.columns2}},watch:o({},"item.merchantType",function(){var e=this,t=this.item.merchantType;this.businessTypeList.some(function(a){var i=a.value==t;return i&&(e.businessTypeLabel=a.label),i}),console.log("watch-----------,",t,this.$parent)}),data:function(){return{showBusinessList:!1,showBrandList:!1,showCouponList:!1,businessTypeLabel:"商户",businessTypeList:[{value:0,label:"商户"},{value:1,label:"品牌"}],merchantTypeOption:[{value:0,label:"本地商户（单店）"},{value:1,label:"本地商户（多店）"}],payTypeList:[{id:"1",name:"现金"},{id:"2",name:"微信"},{id:"3",name:"支付宝"},{id:"4",name:"银行卡"}],tableData:[],columns1:[{title:"商户编号",align:"center",width:200,key:"merchantId"},{title:"商户名称",align:"center",width:200,key:"name"},{title:"地址",align:"center",minWidth:300,key:"address"},{title:"操作",align:"center",width:140,key:"action",slot:"operate"}],columns2:[{title:"品牌编号",align:"center",width:200,key:"id"},{title:"品牌名称",align:"center",width:200,key:"name"},{title:"关联店铺数",align:"center",minWidth:300,key:"address"},{title:"操作",align:"center",width:140,key:"action",slot:"operate"}]}},methods:{changeEndTime:function(e){this.item.endTime=e},validateUbay:function(e,t,a){var i=/^([0-9][0-9]*)$/;i.test(t)?a():a(new Error("请输入大于等于0的正整数"))},remove:function(){var e=this,t=["brandId","merchantId","brandName","merhcantName"];t.forEach(function(t){e.item[t]=""}),this.tableData=[]},selectedTrCallBack:function(e){console.log(this.item.merchantType,"selectedTrCallBack----",e);var t=this.item.merchantType?"brandId":"merchantId",a=this.item.merchantType?"brandName":"merhcantName";this.item[t]=e.id,this.item[a]=e.name,this.tableData=[e.row],console.log(t,a)},selectedCouponItem:function(e){console.log("selectedCouponItem----",e);var t=e.id,a=e.name;this.item.templateId=t,this.item.templateName=a,console.log(t,a)},handleChoose:function(){0==this.item.merchantType?this.showBusinessList=!0:this.showBrandList=!0},handleChooseCoupon:function(){this.showCouponList=!0},validateBusinessName:function(e,t,a){if(t+="",t=t.trim(),""==t)return a("请选择".concat(this.businessTypeLabel));a()},compatible_delInfo:function(e,t){this.$emit("del",e)},validateEmpty:function(e){return function(t,a,i){if(console.log(1111111,t,a),a+="",a=a.trim(),""==a)return i(e);i()}}}},h=l,u=(a("a298"),a("6691")),m=Object(u["a"])(h,i,n,!1,null,"d356edf2",null);t["default"]=m.exports},b0e3:function(e,t,a){"use strict";var i=a("591f"),n=a.n(i);n.a},ca1c:function(e,t,a){"use strict";var i=a("9b2d"),n=a.n(i);n.a},ed70:function(e,t,a){},ef66:function(e,t,a){},fae5:function(e,t,a){"use strict";a.r(t);var i,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"brand-list-box"},[a("Modal",{attrs:{title:"品牌列表",width:"900","footer-hide":"",closable:!0,"mask-closable":!1,styles:{top:"20px"}},on:{"on-cancel":e.closeDialog},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[a("div",[a("row",[a("Form",{ref:"searchItem",staticClass:"search-form",attrs:{model:e.searchItem,inline:"","label-width":70}},[a("FormItem",{attrs:{label:"品牌名称"}},[a("Input",{staticStyle:{width:"150px"},attrs:{type:"text",clearable:"",placeholder:"请输入品牌名称"},model:{value:e.searchItem.name,callback:function(t){e.$set(e.searchItem,"name",t)},expression:"searchItem.name"}})],1),a("FormItem",{staticClass:"br",staticStyle:{"margin-left":"-35px"}},[a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.search}},[e._v("搜索")]),a("Button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1),a("Table",{ref:"selection",staticClass:"bussiness-list",attrs:{border:"",size:"small",columns:e.tableColumns,data:e.tableData,loading:e.tableLoading}}),a("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[a("Page",{staticStyle:{float:"right"},attrs:{"show-total":"","show-elevator":"",current:e.page.pageNum,"page-size":e.page.pageSize,total:e.page.total},on:{"on-change":e.changeCurrent}})],1)],1),a("Row",{staticStyle:{"margin-left":"350px","margin-top":"30px"}},[a("Button",{staticStyle:{"margin-right":"20px"},on:{click:e.cancel}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.selectMerchant}},[e._v("确定")])],1)],1)],1)},s=[],r=a("3add"),c=a.n(r),o=(a("6797"),a("7f80"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(a,!0).forEach(function(t){u(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e,t,a,i,n,s,r){try{var c=e[s](r),o=c.value}catch(l){return void a(l)}c.done?t(o):Promise.resolve(o).then(i,n)}function d(e){return function(){var t=this,a=arguments;return new Promise(function(i,n){var s=e.apply(t,a);function r(e){m(s,i,n,r,c,"next",e)}function c(e){m(s,i,n,r,c,"throw",e)}r(void 0)})}}var p={name:"brand-list",data:function(){var e=this;return{isShow:!0,searchItem:{name:""},choice:{id:"",name:""},tableColumns:[{title:"序号",type:"index",width:80,align:"center"},{title:"选择",key:"brandId",width:70,align:"center",render:function(t,a){var i=a.row.id,n=a.row.name,s=!1;s=e.choice.id==i;var r=e;return t("div",[t("Radio",{props:{value:s},on:{"on-change":function(){console.log("change",a.row),r.choice.id=i,r.choice.name=n,r.choice.row=a.row}}})])}},{title:"品牌编号",align:"center",minWidth:130,key:"id"},{title:"品牌名称",align:"center",width:230,key:"name"},{title:"关联店铺数",align:"center",minWidth:120,key:"relationMerchantCount"}],page:{pageNum:1,pageSize:10,total:0},tableLoading:!1,tableData:[]}},methods:(i={cancel:function(){this.closeDialog()},search:function(){this.page={pageNum:1,pageSize:10,total:0},this.queryTableData()},changeCurrent:function(e){this.queryTableData(e)},queryTableData:function(){var e=d(c.a.mark(function e(t){var a,i,n,s,r,l,u,m,d;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.page.pageNum=t||1,this.tableLoading=!0,a="/merchant/brandMain/selectByBrandName",e.next=5,Object(o["g"])(a,h({},this.searchItem,{},this.page));case 5:i=e.sent,n=i.code,s=i.data,r=s.current,l=s.total,u=s.size,m=s.records,d=i.msg,200==n?(this.tableData=m,this.page.pageNum=r,this.page.total=l,this.page.pageSize=u):this.msgErr(d),this.tableLoading=!1;case 15:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),closeDialog:function(){this.$emit("update:showBrandList",!1)},selectMerchant:function(){this.choice.id?(this.$emit("seclectedTr-event",this.choice),this.closeDialog()):this.msgErr("至少选一个品牌")},reset:function(){this.searchItem.name="",this.page={pageNum:1,pageSize:10},this.queryTableData()}},u(i,"changeCurrent",function(e){this.pageNum=e,this.queryTableData()}),u(i,"msgOk",function(e){this.$Message.info({content:e,duration:3})}),u(i,"msgErr",function(e){this.$Message.error({content:e,duration:3})}),i),mounted:function(){this.queryTableData()}},f=p,g=(a("58f6"),a("ca1c"),a("6691")),b=Object(g["a"])(f,n,s,!1,null,"0fdf298e",null);t["default"]=b.exports}}]);