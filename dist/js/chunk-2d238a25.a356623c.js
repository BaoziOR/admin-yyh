(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d238a25"],{ffe4:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.loading?r("div",[r("i-col",{staticClass:"demo-spin-col",attrs:{span:"8"}},[r("Spin",{attrs:{fix:""}},[e._v("正在检测冲突券，请稍等...")])],1)],1):e._e(),r("ul",e._l(e.listData,function(t,a){return r("li",{key:a,staticStyle:{"list-style":"none","margin-top":"10px","font-size":"1.2em"},attrs:{value:t}},[r("label",{attrs:{for:"index"}},[e._v("backCode:")]),r("span",[e._v(e._s(a))]),e._m(0,!0),r("Table",{ref:"table",refInFor:!0,attrs:{border:"",columns:e.tableColumns,sortable:"custom",data:t,"highlight-row":!0},on:{"on-current-change":e.selectedTr}})],1)}),0),r("Modal",{attrs:{title:"调整排序",width:"1000","footer-hide":"",closable:!0,"mask-closable":!1},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}},[r("div",{attrs:{label:"排序数值：","label-width":120}},[r("Input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入数字",clearable:""},model:{value:e.orderBy,callback:function(t){e.orderBy=t},expression:"orderBy"}}),r("ButtonGroup",[r("Button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.checkOrder}},[e._v("确定")])],1)],1)])],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("label",{attrs:{for:"index"}},[e._v("冲突券")]),r("span",[e._v("（相同渠道位置、相同时间、相同门店）：")])])}],s=r("7f80"),o={data:function(){var e=this;return{recommendId:null,loading:!0,orderBy:null,showOrder:!1,TableLoading:!1,totalSize:0,pageNum:1,pageSize:10,listData:[],tableColumns:[{title:"序号",type:"index"},{title:"推荐ID",key:"recommendId"},{title:"券名称",key:"campName"},{title:"投放位置",key:"distributeLocation",render:function(e,t){var r=t.row.distributeLocation;return e("span",r+"号位")}},{title:"投放渠道",key:"distributeChannel",render:function(e,t){var r=t.row.distributeChannel+"",a="";switch(r){case"1":a="要优惠详情页";break;case"2":a="要优惠领券成功页";break;case"3":a="团员拼团成功页";break;case"4":a="团员拼团失败页";break;case"5":a="团长拼团成功页";break;case"6":a="团长拼团失败页";break;case"7":a="领优惠领券成功页";break}return e("span",a)}},{title:"投放时间",key:"distributeStartDate",render:function(e,t){var r=t.row;return e("span",r.distributeStartDate+" -- "+r.distributeEndDate)}},{title:"投放门店",key:"shops",ellipsis:!0},{title:"优惠力度",key:"promotion"},{title:"排序",key:"orderBy"},{title:"操作",render:function(t,r){return t("div",[t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.orderItem(r.row)}}},"排序")])}}]}},methods:{loadData:function(){var e=this;Object(s["g"])("/couponrecommend/conflict/listConflict?pageNum="+this.pageNum+"&pageSize="+this.pageSize).then(function(t){e.TableLoading=!1,200==t.code?(e.listData=t.data,e.$Message.success("数据加载完成！")):e.msgErr(t.msg),e.loading=!1})},selectedTr:function(e,t){this.$emit("seclectedTr-event",e.campId,e.name)},changeCurrent:function(e){this.searchForm.pageNum!=e&&(this.searchForm.pageNum=e,this.loadData())},orderItem:function(e){this.showOrder=!0,console.log(e),this.recommendId=e.recommendId},checkOrder:function(){var e=this,t={};t.recommendId=this.recommendId,t.orderBy=this.orderBy,t.id=this.recommendId;var r=/^\+?[1-9][0-9]*$/;r.test(this.orderBy)?Object(s["g"])("/couponrecommend/updateOrderBy",t).then(function(t){200==t.code?(e.$Message.success(t.msg),e.orderBy="",e.loadData()):e.msgErr(t.msg)}):this.$Message.error("请输入正整数")}},mounted:function(){this.TableLoading=!0,this.pageNum=1,this.loadData()}},i=o,l=r("6691"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports}}]);