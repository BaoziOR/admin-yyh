(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-776ccca9","chunk-2d0e2154"],{"1f81":function(e,t,a){},"78bf":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"money-detail"},[a("div",[a("Form",{ref:"form",attrs:{"label-position":"right",model:e.formData,"label-width":100}},[a("FormItem",{attrs:{label:"商户类型："}},[a("Radio",{attrs:{value:!0,disabled:""}},[e._v(e._s(e.formData.merchantTypeName))])],1),a("FormItem",{attrs:{label:"商户名称："}},[a("Row",[a("Col",{attrs:{span:"16"}},[a("Input",{attrs:{disabled:""},model:{value:e.formData.businessName,callback:function(t){e.$set(e.formData,"businessName",t)},expression:"formData.businessName"}})],1)],1)],1),0==e.formData.changeType?[a("FormItem",{attrs:{label:"应收款："}},[a("Row",[a("Col",{attrs:{span:"16"}},[a("Input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入应收款金额，小数点后两位",disabled:""},model:{value:e.formData.receivables,callback:function(t){e.$set(e.formData,"receivables",t)},expression:"formData.receivables"}}),e._v(" 元\n            ")],1)],1)],1),a("FormItem",{attrs:{label:"合同号："}},[a("Row",[a("Col",{attrs:{span:"16"}},[a("Input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入合同号",disabled:""},model:{value:e.formData.contractNumber,callback:function(t){e.$set(e.formData,"contractNumber",t)},expression:"formData.contractNumber"}})],1)],1)],1),a("FormItem",{attrs:{label:"签单销售："}},[a("Row",[a("Col",{attrs:{span:"16"}},[a("Input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入销售名字",disabled:""},model:{value:e.formData.biller,callback:function(t){e.$set(e.formData,"biller",t)},expression:"formData.biller"}})],1)],1)],1)]:e._e(),1==e.formData.changeType?[a("FormItem",{attrs:{label:"应扣款："}},[a("Row",[a("Col",{attrs:{span:"16"}},[a("Input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入应扣款金额，小数点后两位",disabled:""},model:{value:e.formData.anticipatedDeduction,callback:function(t){e.$set(e.formData,"anticipatedDeduction",t)},expression:"formData.anticipatedDeduction"}}),e._v(" 元\n            ")],1)],1)],1),a("FormItem",{attrs:{label:"实扣款："}},[a("Row",[a("Col",{attrs:{span:"16"}},[a("Input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入实扣款金额，小数点后两位",disabled:""},model:{value:e.formData.actualDeduction,callback:function(t){e.$set(e.formData,"actualDeduction",t)},expression:"formData.actualDeduction"}}),e._v(" 元\n            ")],1)],1)],1)]:e._e(),a("FormItem",{attrs:{label:"备注："}},[a("Row",[a("Col",{attrs:{span:"10"}},[a("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"请输入500个字符以内备注",maxlength:500,disabled:""},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1)],1),0==e.formData.changeType?[a("FormItem",{attrs:{label:"收费条目："}}),e.formData.merchantMoneyChargesRecords&&e.formData.merchantMoneyChargesRecords.length?a("FeeEntryDetail",{attrs:{merchantMoneyChargesRecords:e.formData.merchantMoneyChargesRecords}}):e._e()]:e._e()],2)],1),a("div",{staticClass:"demo-drawer-footer"},[a("Button",{staticStyle:{"margin-right":"8px"},on:{click:e.closeDialog}},[e._v("关闭")])],1)])},n=[],s=a("3add"),o=a.n(s),i=a("7cd6");function l(e,t,a,r,n,s,o){try{var i=e[s](o),l=i.value}catch(c){return void a(c)}i.done?t(l):Promise.resolve(l).then(r,n)}function c(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var s=e.apply(t,a);function o(e){l(s,r,n,o,i,"next",e)}function i(e){l(s,r,n,o,i,"throw",e)}o(void 0)})}}var m={name:"deduction-edit",props:{showDetail:{type:Boolean,default:!0},detailData:{type:Object,default:function(){return{}}}},components:{FeeEntryDetail:i["default"]},created:function(){var e=JSON.parse(JSON.stringify(this.detailData)),t=e.merchantType;e.merchantTypeName=this.merchantTypeOption[t];e.businessName=0==t?e.merchantName:e.brandName,this.formData=e,console.log("mounte detail",this.formData)},data:function(){return{isShow:!1,title:"扣款信息",businessTypeLabel:"商户",merchantTypeOption:{0:"本地商户（单店）",1:"本地商户（多店）"},formData:{changeType:0,merchantType:0,businessId:"",businessName:"",merchantId:"",merchantName:"",brandId:"",brandName:"",reduceUbay:"",remark:"remarks"},tableData:[],columns1:[{title:"商户编号",align:"center",width:200,key:"merchantId"},{title:"商户名称",align:"center",width:200,key:"name"},{title:"操作",align:"center",width:140,key:"action",slot:"operate"}],columns2:[{title:"品牌名称",align:"center",width:200,key:"name"},{title:"关联店铺数",align:"center",width:200,key:"relationMerchantCount"},{title:"操作",align:"center",width:140,key:"action",slot:"operate"}]}},methods:{selectedTrCallBack:function(e){console.log("selectedTrCallBack----",e);var t=e.merchantType,a=e.id,r=e.name,n=e.row;this.formData.businessId=a,this.formData.businessName=r,0==t?this.tableData1=[n]:this.tableData2=[n]},handleChoose:function(){0==this.formData.merchantType?this.showBusinessList=!0:this.showBrandList=!0},closeDialog:function(){console.log("closeDialog"),this.$emit("update:showDetail",!1)},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(){var e=c(o.a.mark(function e(a){var r,n,s,i,l;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=13;break}return t.$Message.success("数据验证成功!"),r=JSON.parse(JSON.stringify(t.formData)),n=r.merchantType,0==n?(r.merchantId=r.businessId,r.merchantName=r.businessName):(r.brandId=r.businessId,r.brandName=r.businessId),e.next=7,rechargeAndDeduction(r);case 7:s=e.sent,i=s.code,l=s.msg,200==i?(t.msgOk("保存成功"),t.closeDialog(),t.$emit("refresh")):t.msgErr(l),e.next=14;break;case 13:t.$Message.error("数据验证失败！");case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},msgOk:function(e){this.$Message.info({content:e,duration:3})},msgErr:function(e){this.$Message.error({content:e,duration:3})}}},d=m,u=(a("d53d"),a("6691")),h=Object(u["a"])(d,r,n,!1,null,"23089cce",null);t["default"]=h.exports},"7cd6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Alert",e._l(e.merchantMoneyChargesRecords,function(t,r){return a("Row",{key:r,attrs:{type:"flex",justify:"center",gutter:10}},[a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{"label-width":0}},[a("Input",{attrs:{value:e.payTypeList[t.paymentMode],disabled:""}})],1)],1),a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{"label-width":0}},[a("Input",{attrs:{disabled:""},model:{value:t.actualAmount,callback:function(a){e.$set(t,"actualAmount",a)},expression:"item.actualAmount"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{"label-width":0}},[a("Input",{attrs:{disabled:""},model:{value:t.payee,callback:function(a){e.$set(t,"payee",a)},expression:"item.payee"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{"label-width":0}},[a("Input",{attrs:{disabled:""},model:{value:t.receivedDate,callback:function(a){e.$set(t,"receivedDate",a)},expression:"item.receivedDate"}})],1)],1),a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{"label-width":0}},[a("Input",{attrs:{disabled:""},model:{value:t.serialNumber,callback:function(a){e.$set(t,"serialNumber",a)},expression:"item.serialNumber"}})],1)],1)],1)}),1)],1)},n=[],s={name:"fee-entry-detail",props:{merchantMoneyChargesRecords:{type:Array,default:function(){return[]}}},data:function(){return{payTypeList:{1:"现金",2:"微信",3:"支付宝",4:"银行卡"}}},methods:{}},o=s,i=a("6691"),l=Object(i["a"])(o,r,n,!1,null,null,null);t["default"]=l.exports},d53d:function(e,t,a){"use strict";var r=a("1f81"),n=a.n(r);n.a}}]);